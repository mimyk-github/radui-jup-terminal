(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[258,779],{23675:function(e,t,l){"use strict";l.r(t),l.d(t,{RenderJupiter:function(){return tR}});var s=l(11527),n=l(12250),r=l(14043),i=l(16433),a=l(50959);let o=(0,a.createContext)({screen:"Initial",setScreen(){}});function c(){return(0,a.useContext)(o)}let d=e=>{let{children:t}=e,[l,n]=(0,a.useState)("Initial");return(0,s.jsx)(o.Provider,{value:{screen:l,setScreen:n},children:t})};var u=l(46547),m=l(46488),x=l(16576),p=l(53765),h=l(48318),f=l.n(h),v=l(49433),g=l(92202),j=l(80819);let w=()=>{let[e,t]=(0,m._)("market-reference-fees-cached",{timestamp:null,data:void 0});return(0,j.a)(["market-reference-fees-cached"],async()=>{if(e.data&&e.timestamp&&Date.now()-e.timestamp<6e4)return e.data;let l=await (await fetch("https://cache.jup.ag/reference-fees")).json();return t({timestamp:Date.now(),data:l}),l},{keepPreviousData:!0,refetchInterval:6e4,refetchIntervalInBackground:!1,retry:!1,retryOnMount:!1,refetchOnMount:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1})};function b(e,t){let l=(0,a.useState)(()=>{try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){console.error(e)}return t}),s=l[0],n=(0,a.useRef)(!0);return(0,a.useEffect)(()=>{if(n.current){n.current=!1;return}try{null===s?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(s))}catch(e){console.error(e)}},[e,s]),l}var y=l(60242);let N="jupiter-terminal",C="MEDIUM";function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(1e6*e/t)}let k=(0,a.createContext)({priorityFee:3e-4,priorityMode:"MAX",priorityLevel:C,priorityFeeLamports:0,setPriorityFee:()=>{},setPriorityMode:()=>{},setPriorityLevel:()=>{},modifyComputeUnitPriceAndLimit:async()=>{}});function A(e){let{children:t}=e,[l,n]=b("".concat(N,"-global-priority-fee"),3e-4),[r,i]=b("".concat(N,"-global-priority-mode"),"MAX"),[o,c]=b("".concat(N,"-global-priority-level"),C),d=(0,a.useMemo)(()=>(0,g.ks)(l,9),[l]),u=(0,a.useCallback)(async(e,t)=>{if(l>0){let s=t.requestComputeBudgetLimit||(0,y.av)(e)||14e5,n=M(1e9*l,s),i=t.minimumFee?M(1e9*t.minimumFee,s):null,a=0,o=Math.max(t.referenceFee||0,i||0);a=Math.round("EXACT"===r?n:Math.min(n,o)),t.requestComputeBudgetLimit&&(0,y.Qm)(e,t.requestComputeBudgetLimit),(0,y.Gg)(e,a)}},[l,r]);return(0,s.jsx)(k.Provider,{value:{priorityFee:l,priorityFeeLamports:d,priorityMode:r,priorityLevel:o,setPriorityFee:n,setPriorityMode:i,setPriorityLevel:c,modifyComputeUnitPriceAndLimit:u},children:t})}let S=()=>{let e=(0,a.useContext)(k);return e};var I=l(8029),E=l(61068),D=l(25938);let T={apiKey:"",nodes:[{url:"https://search1.jup.ag"},{url:"https://search2.jup.ag"},{url:"https://search3.jup.ag"}],nearestNode:{url:"https://search1.jup.ag"},sort_by:"daily_volume:desc"},L=()=>{let e=(0,a.useMemo)(()=>(function(){let e=new D.Z({server:{apiKey:T.apiKey,nodes:T.nodes,nearestNode:T.nearestNode,numRetries:2,retryIntervalSeconds:.5,connectionTimeoutSeconds:3e3,cacheSearchResultsForSeconds:5},additionalSearchParameters:{query_by:"symbol,name,address",sort_by:T.sort_by,perPage:50}});return e})(),[]);return e};var O=l(40080);I.Vi.MainnetBeta,I.Vi.Testnet,I.Vi.Devnet,I.Vi.Devnet;let P=a.createContext(null),z=e=>e.length>=32&&e.length<=48&&!e.includes("_");function R(e){let{children:t}=e,l=L(),[n,r]=(0,a.useState)(!1),i=(0,a.useRef)((()=>{let e=new Map;return e})()),o=(0,a.useRef)(new Map),c=(0,a.useRef)(new Map),[d,u]=(0,m._)("local-token-list",{timestamp:null,data:[]}),{data:x}=(0,j.a)(["cached-initial-token-list"],async()=>{if(d.data.length>0&&d.timestamp&&Date.now()-d.timestamp<6e5)return d.data;let e=await (await fetch("https://tokens.jup.ag/tokens?tags=strict,lst")).json(),t=new I.fp(e),l=t.getList();return u({timestamp:Date.now(),data:l}),l});(0,a.useEffect)(()=>{x&&(i.current=x.reduce((e,t)=>(e.set(t.address,t),e),new Map),r(!0))},[x]);let p=(0,a.useCallback)(async e=>{let t=Array.from(new Set(e.filter(e=>!i.current.has(e)).filter(Boolean)));if(0===t.length)return[];t.forEach(e=>f.current.add(e));let s=(0,g.vr)([...t],50),n=[];for(let e of s)try{let t=await l.typesenseClient.multiSearch.perform({searches:e.map(e=>({collection:"tokens",q:e,query_by:"address",filter_by:"address:".concat(e)}))});t.results.forEach(e=>{if(!e.hits||!e.hits[0])return;let t=e.hits[0].document;o.current.set(t.address,t),n.push(t)})}catch(e){console.log("Typesense failed to fetch token info",e)}return n},[l.typesenseClient.multiSearch]),h=(0,a.useRef)([]),f=(0,a.useRef)(new Set);(0,E.Z)(()=>{h.current.length>0&&(p(h.current),h.current=[])},2e3);let v=(0,a.useCallback)(e=>{if(!z(e))return;let t=i.current.get(e)||o.current.get(e);if(t||h.current.push(e),!(t&&(0,O.lB)(t)))return t},[i]),w=(0,a.useCallback)(e=>{o.current.set(e.address,e),c.current.set(e.address,e)},[]);return(0,s.jsx)(P.Provider,{value:{tokenMap:i.current,unknownTokenMap:o.current,isLoaded:n,getTokenInfo:v,addOnchainTokenInfo:w,typesenseInstantsearchAdapter:l},children:t})}function V(){let e=(0,a.useContext)(P);if(!e)throw Error("TokenContext not found");return e}var Z=l(93489),B=l(90779);let F={publicKey:null,wallets:[],wallet:null,connect:async()=>{},select:()=>{},connecting:!1,connected:!1,disconnect:async()=>{}},J=(0,a.createContext)(F);function H(){return(0,a.useContext)(J)}let U=e=>{let{children:t}=e,{publicKey:l,wallets:n,wallet:r,connect:i,select:a,connecting:o,connected:c,disconnect:d}=(0,Z.O)();return(0,s.jsx)(J.Provider,{value:{publicKey:l,wallets:n,wallet:r,connect:i,select:a,connecting:o,connected:c,disconnect:d},children:t})};var W=e=>{var t;let{children:l}=e,[r]=(0,n.KO)(B.appProps),i=null==r?void 0:null===(t=r.passthroughWalletContextState)||void 0===t?void 0:t.wallet,o=(0,a.useMemo)(()=>({...F,...null==r?void 0:r.passthroughWalletContextState,disconnect:async()=>{try{var e,t;if(null==i?void 0:null===(e=i.adapter)||void 0===e?void 0:e.disconnect)return null==i?void 0:null===(t=i.adapter)||void 0===t?void 0:t.disconnect()}catch(e){console.log(e)}}}),[null==r?void 0:r.passthroughWalletContextState,null==i?void 0:i.adapter]);return window.Jupiter.enableWalletPassthrough?o?(0,s.jsx)(J.Provider,{value:o,children:l}):(0,s.jsx)(s.Fragment,{children:l}):(0,s.jsx)(U,{children:l})},Q=l(7426),q=l(39098),K=l.n(q);let Y=new x.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),G=a.createContext({accounts:{},nativeAccount:void 0,loading:!0,refresh:()=>{}}),X=e=>{let{children:t}=e,{publicKey:l,connected:n}=H(),{connection:r}=(0,i.R)(),o=(0,a.useCallback)(async()=>{if(!l||!n)return null;let e=await r.getAccountInfo(l);if(e)return{pubkey:l,balance:(0,g.lt)((null==e?void 0:e.lamports)||0,9),balanceLamports:new(K())((null==e?void 0:e.lamports)||0),hasBalance:null!=e&&!!e.lamports&&(null==e?void 0:e.lamports)>0,decimals:9,isFrozen:!1}},[l,n,r]),c=(0,a.useCallback)(async()=>{if(!l||!n)return{};let[e,t]=await Promise.all([Q.H_,Y].map(e=>r.getParsedTokenAccountsByOwner(l,{programId:e},"confirmed"))),s=[...e.value,...t.value].reduce((e,t)=>{let s=(0,g.MO)(new x.PublicKey(t.account.data.parsed.info.mint),l);return s.equals(t.pubkey)&&(e[t.account.data.parsed.info.mint]={balance:t.account.data.parsed.info.tokenAmount.uiAmount,balanceLamports:new(K())(t.account.data.parsed.info.tokenAmount.amount),pubkey:t.pubkey,hasBalance:t.account.data.parsed.info.tokenAmount.uiAmount>0,decimals:t.account.data.parsed.info.tokenAmount.decimals,isFrozen:2===t.account.data.parsed.info.state}),e},{});return s},[l,n,r]),{data:d,isLoading:u,refetch:m}=(0,j.a)(["accounts",null==l?void 0:l.toString()],async()=>{let[e,t]=await Promise.all([o(),c()]);return{nativeAccount:e,accounts:t}},{enabled:!!((null==l?void 0:l.toString())&&n),refetchInterval:1e4,refetchIntervalInBackground:!1});return(0,s.jsx)(G.Provider,{value:{accounts:(null==d?void 0:d.accounts)||{},nativeAccount:null==d?void 0:d.nativeAccount,loading:u,refresh:m},children:t})},_=()=>(0,a.useContext)(G),$=(0,a.createContext)(null);function ee(){let e=(0,a.useContext)($);if(!e)throw Error("Missing SwapContextProvider");return e}let et={fromMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:v.W4.toString(),fromValue:"",toValue:"",slippageBps:Math.ceil(100*v.zI)},el=e=>{let{displayMode:t,scriptDomain:l,asLegacyTransaction:n,setAsLegacyTransaction:o,formProps:d,maxAccounts:h,children:j}=e,{screen:b}=c(),{isLoaded:y,getTokenInfo:N}=V(),{wallet:C}=H(),{refresh:M}=_(),k=(0,a.useMemo)(()=>{var e;return null==C?void 0:null===(e=C.adapter.publicKey)||void 0===e?void 0:e.toString()},[null==C?void 0:C.adapter.publicKey]),A=(0,a.useMemo)(()=>({...et,...d}),[d]),[I,E]=(0,m._)("jupiter-terminal-slippage",v.zI),[D,T]=(0,a.useState)((()=>{var t,l;let s=e.useUserSlippage&&void 0!==I?Math.ceil(100*I):(null==A?void 0:A.initialSlippageBps)?null==A?void 0:A.initialSlippageBps:Math.ceil(100*v.zI);return{fromMint:null!==(t=null==A?void 0:A.initialInputMint)&&void 0!==t?t:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:null!==(l=null==A?void 0:A.initialOutputMint)&&void 0!==l?l:v.W4.toString(),fromValue:"",toValue:"",slippageBps:s}})()),[L,O]=(0,a.useState)({}),P=(0,a.useMemo)(()=>{if(!y)return null;let e=D.fromMint?N(D.fromMint):null;return e},[D.fromMint,y,N]),z=(0,a.useMemo)(()=>{if(!y)return null;let e=D.toMint?N(D.toMint):null;return e},[D.toMint,N,y]),R=(0,a.useRef)(!1),Z=R.current?r.jr.ExactOut:r.jr.ExactIn,B=(0,a.useCallback)(()=>{if(!(null==A?void 0:A.initialAmount)||!P||!z)return;let e=e=>{var t;let l=e?N(e):void 0;if(l)return String((0,g.lt)(f().BigInt(null!==(t=A.initialAmount)&&void 0!==t?t:0),l.decimals))};Z===r.jr.ExactOut?setTimeout(()=>{T(t=>{var l;return{...t,toValue:null!==(l=e(t.toMint))&&void 0!==l?l:""}})},0):setTimeout(()=>{var t;T(l=>({...l,fromValue:null!==(t=e(l.fromMint))&&void 0!==t?t:""}))},0)},[A.initialAmount,P,N,Z,z]);(0,a.useEffect)(()=>{B()},[A.initialAmount,B]);let F=(0,a.useMemo)(()=>Z===r.jr.ExactOut?D.toValue:D.fromValue,[D.fromValue,D.toValue,Z]),J=(0,a.useMemo)(()=>{let e=!1===R.current?P&&D.fromValue&&(0,g.Hd)(D.fromValue)?f().BigInt(new p.Z(D.fromValue).mul(Math.pow(10,P.decimals)).floor().toFixed()):f().BigInt(0):z&&D.toValue&&(0,g.Hd)(D.toValue)?f().BigInt(new p.Z(D.toValue).mul(Math.pow(10,z.decimals)).floor().toFixed()):f().BigInt(0);return{amount:e,inputMint:D.fromMint?new x.PublicKey(D.fromMint):void 0,outputMint:D.toMint?new x.PublicKey(D.toMint):void 0,swapMode:Z,slippageBps:D.slippageBps,maxAccounts:h}},[D.fromMint,D.slippageBps,D.toMint,F,null==P?void 0:P.address,Z,h,null==z?void 0:z.address]),{quoteResponseMeta:U,refresh:W,loading:Q,error:q,lastRefreshTimestamp:K,fetchSwapTransaction:Y}=(0,r.OO)(J),{data:G}=w(),{priorityLevel:X,modifyComputeUnitPriceAndLimit:ee}=S(),{connection:el}=(0,i.R)(),[es,en]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!U){en(null);return}en(U)},[Z,U]),(0,a.useEffect)(()=>{if(!D.fromValue&&!es){T(e=>({...e,fromValue:"",toValue:""}));return}T(e=>{let t={...e};if(!P||!z)return e;let{inAmount:l,outAmount:s}=(null==es?void 0:es.quoteResponse)||{};return Z===r.jr.ExactIn?t.toValue=s?new p.Z(s.toString()).div(10**z.decimals).toFixed():"":t.fromValue=l?new p.Z(l.toString()).div(10**P.decimals).toFixed():"",t})},[D.fromValue,P,es,Z,z]);let[er,ei]=(0,a.useState)(void 0),[ea,eo]=(0,a.useState)(null),ec=(0,a.useCallback)(e=>{try{if("error"in e)throw e.error;"txid"in e&&(console.log({swapResult:e}),ei({txid:e.txid,status:"success"}),eo({swapResult:e,quoteResponseMeta:es}))}catch(t){console.log("Swap error",t),ei({txid:"",status:"fail"}),eo({swapResult:e,quoteResponseMeta:es})}},[es]),ed=(0,a.useCallback)(async()=>{if(!k||!(null==C?void 0:C.adapter))throw Error("Missing wallet");if(!es)throw Error("Missing quote");let e=null==es?void 0:es.quoteResponse.inputMint,t=null==es?void 0:es.quoteResponse.outputMint,l=await (await fetch("https://quote-api.jup.ag/v6/swap-instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:es.original,userPublicKey:k,dynamicComputeUnitLimit:!0})})).json();if(!l||l.error)throw O({"missing-instructions":{title:"Missing instructions",message:"Failed to get swap instructions"}}),console.log("Failed to get swap instructions: ",l),Error("Failed to get swap instructions");let[s,n]=[e,t].map(e=>(0,g.MO)(new x.PublicKey(e),new x.PublicKey(k)));return{meta:{sourceAddress:s,destinationAddress:n,quoteResponseMeta:es},instructions:l,onSubmitWithIx:ec}},[k,null==C?void 0:C.adapter,es,ec]),eu=(0,a.useCallback)(async()=>{let e;if(!k||!(null==C?void 0:C.adapter)||!es)return null;try{let t=await new Promise(async(t,l)=>{let s={current:0};if(!C.adapter.publicKey)return;let n=await Y({quoteResponseMeta:es,userPublicKey:C.adapter.publicKey,prioritizationFeeLamports:1,wrapUnwrapSOL:!0});if("error"in n)console.error("Error in swapTransactionResponse",n.error);else{ee(n.swapTransaction,{referenceFee:(null==G?void 0:G.jup.m)&&(null==G?void 0:G.jup.h)&&(null==G?void 0:G.jup.vh)?"MEDIUM"===X?G.jup.m:"HIGH"===X?G.jup.h:"VERY_HIGH"===X?G.jup.vh:void 0:null==G?void 0:G.swapFee});let{inputMint:t,outputMint:i}=es.quoteResponse,{destinationAddress:a,sourceAddress:o}=await (0,u.Bj)({connection:el,inputMint:t,outputMint:i,userPublicKey:C.adapter.publicKey}),c=await (0,u.UG)({connection:el,wallet:null==C?void 0:C.adapter,onTransaction:async(t,n)=>{0===s.current&&(s.current=Date.now()+6e4),e||(e=setInterval(()=>{Date.now()>s.current&&(ei({txid:"",status:"timeout"}),l(Error("Transaction timed-out")))},1e3));let r=(null==er?void 0:er.txid)===t?er:void 0;r||ei(e=>({...e,txid:t,status:"loading"}));let i=!(await n instanceof Error);ei(l=>{let s=(null==l?void 0:l.txid)===t?l:void 0;return s&&(s.status=i?"success":"fail",e&&clearInterval(e)),l?{...l}:void 0})},inputMint:t,outputMint:i,sourceAddress:o,destinationAddress:a,swapTransaction:n.swapTransaction,blockhashWithExpiryBlockHeight:{blockhash:n.blockhash,lastValidBlockHeight:n.lastValidBlockHeight},owner:new r.Ff(new x.PublicKey(k)),wrapUnwrapSOL:!0});return eo({swapResult:c,quoteResponseMeta:es}),c}}).catch(e=>(console.log(e),ei({txid:"",status:"fail"}),null)).finally(()=>{e&&clearInterval(e)});return t}catch(e){return console.log("Swap error",e),null}},[k,null==C?void 0:C.adapter,es,Y,ee,el,null==G?void 0:G.jup.m,null==G?void 0:G.jup.h,null==G?void 0:G.jup.vh,null==G?void 0:G.swapFee,X,er]),em=(0,a.useCallback)(function(){let{resetValues:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{resetValues:!1};e?(T(et),B()):T(e=>({...e,toValue:""})),en(null),O({}),eo(null),ei(void 0),M()},[M,B]);return(0,a.useEffect)(()=>{"function"==typeof window.Jupiter.onFormUpdate&&window.Jupiter.onFormUpdate(D)},[D]),(0,a.useEffect)(()=>{"function"==typeof window.Jupiter.onScreenUpdate&&window.Jupiter.onScreenUpdate(b)},[b]),(0,s.jsx)($.Provider,{value:{form:D,setForm:T,isToPairFocused:R,errors:L,setErrors:O,fromTokenInfo:P,toTokenInfo:z,quoteResponseMeta:es,setQuoteResponseMeta:en,onSubmit:eu,onRequestIx:ed,lastSwapResult:ea,reset:em,displayMode:t,formProps:A,scriptDomain:l,swapping:{txStatus:er},jupiter:{asLegacyTransaction:n,setAsLegacyTransaction:o,quoteResponseMeta:es,loading:Q,refresh:W,error:q,lastRefreshTimestamp:K},setUserSlippage:E},children:j})};var es=l(44432),en=l(2431);let er=(0,a.createContext)({}),ei=e=>new Date().getTime()-e>=6e4,ea=e=>{let{children:t}=e,{accounts:l}=_(),{getTokenInfo:n}=V(),{fromTokenInfo:r,toTokenInfo:i}=ee(),[o,c]=(0,es.Z)("jupiter-terminal-cached-token-prices",{}),[d,u]=(0,a.useState)(new Set),[m,x]=(0,a.useState)([]);(0,en.Z)(()=>{x(Array.from(d))},250,[d]);let p=(0,a.useCallback)(async e=>{let{data:t}=await fetch("https://price.jup.ag/v4/price?ids=".concat(e.join(","))).then(e=>e.json()),l=new Date().getTime(),s=e.reduce((s,n,r)=>{let i=t[n];return i?{...s,result:{...s.result,[i.id]:{usd:i.price,timestamp:l}}}:{...s,failed:[...s.failed,e[r]]}},{result:{},failed:[]});return s},[]),{data:h,isFetched:f}=(0,j.a)([m,Object.keys(o||{}).length],async()=>{let e={},t=[];if(m.forEach(l=>{if(l){let s=(o||{})[l];if(!s||ei(s.timestamp)){t.push(l);return}e={...e,[l]:{usd:s.usd,timestamp:s.timestamp}}}}),!t.length)return e;try{let l=(0,g.vr)(t,100),s=await Promise.all(l.map(async e=>await p(e)));s.forEach(t=>{let{result:l}=t;e={...e,...l}})}catch(e){console.log("Error fetching prices from Jupiter Pricing API",e)}return e},{staleTime:6e4,refetchInterval:6e4});(0,a.useEffect)(()=>{var e;c(t=>Object.entries(t||{}).filter(t=>{let[l,s]=t;return!ei(null!==(e=null==s?void 0:s.timestamp)&&void 0!==e?e:0)}).reduce((e,t)=>{let[l,s]=t;return{...e,[l]:s}},{}))},[c]),(0,a.useEffect)(()=>{u(e=>{let t=new Set([...e]);return(null==r?void 0:r.address)&&t.add(null==r?void 0:r.address),(null==i?void 0:i.address)&&t.add(null==i?void 0:i.address),t})},[r,i]);let v=(0,a.useMemo)(()=>({...o,...h}),[h,o]),w=(0,a.useCallback)(e=>{u(t=>{let l=Array.isArray(e)?e:[e];return new Set([...t,...l])})},[]);return(0,a.useEffect)(()=>{if(!Object.keys(l).length)return;let e=Object.keys(l).map(e=>{let t=n(e);if(t)return t.address}).filter(Boolean);w(e),u(t=>new Set([...t,...e]))},[l,n,w]),(0,s.jsx)(er.Provider,{value:{tokenPriceMap:v,getUSDValue:w},children:t})};function eo(){let e=(0,a.useContext)(er);return e}var ec=l(64537),ed=l(57360),eu=e=>{let{width:t="12",height:l="12"}=e;return(0,s.jsxs)("svg",{width:t,height:l,viewBox:"0 0 12 12",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("g",{clipPath:"url(#clip0_841_4053)",children:(0,s.jsx)("path",{d:"M11.6466 4.23513V0.706082L10.4111 1.94156C9.3173 0.741165 7.72912 0 6 0C2.6827 0 0 2.6827 0 6C0 9.3173 2.68203 12 6 12C7.69405 12 9.21142 11.2939 10.3059 10.165L9.31797 9.14128C8.50601 10.0234 7.30561 10.5879 6 10.5879C3.45892 10.5879 1.41216 8.5411 1.41216 6.00002C1.41216 3.45894 3.45892 1.41218 6 1.41218C7.34135 1.41218 8.57615 2.01238 9.42317 2.92954L8.11757 4.23515L11.6466 4.23513Z",fill:"inherit"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_841_4053",children:(0,s.jsx)("rect",{width:t,height:l,fill:"white"})})})]})},em=e=>{let{width:t="12",height:l="12"}=e;return(0,s.jsx)("svg",{width:t,height:l,viewBox:"0 0 12 10",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.67559 1.39922C4.18425 1.39922 3.78594 1.79753 3.78594 2.28887C3.78594 2.78022 4.18425 3.17853 4.67559 3.17853C5.16694 3.17853 5.56525 2.78022 5.56525 2.28887C5.56525 1.79753 5.16694 1.39922 4.67559 1.39922ZM1.19961 2.88867H2.67329C2.93107 3.75043 3.72998 4.37853 4.67559 4.37853C5.62121 4.37853 6.42012 3.75043 6.67789 2.88867H10.7996C11.131 2.88867 11.3996 2.62004 11.3996 2.28867C11.3996 1.9573 11.131 1.68867 10.7996 1.68867H6.67777C6.41987 0.827121 5.62106 0.199219 4.67559 0.199219C3.73013 0.199219 2.93132 0.827121 2.67342 1.68867H1.19961C0.868239 1.68867 0.599609 1.9573 0.599609 2.28867C0.599609 2.62004 0.868239 2.88867 1.19961 2.88867ZM0.599609 7.58555C0.599609 7.25418 0.868239 6.98555 1.19961 6.98555H5.98367C6.24157 6.124 7.04038 5.49609 7.98585 5.49609C8.93131 5.49609 9.73012 6.124 9.98802 6.98555H10.7995C11.1309 6.98555 11.3995 7.25418 11.3995 7.58555C11.3995 7.91692 11.1309 8.18555 10.7995 8.18555H9.98814C9.73037 9.04731 8.93146 9.6754 7.98585 9.6754C7.04023 9.6754 6.24132 9.04731 5.98355 8.18555H1.19961C0.868239 8.18555 0.599609 7.91692 0.599609 7.58555ZM7.09619 7.58575C7.09619 7.09441 7.4945 6.69609 7.98585 6.69609C8.47719 6.69609 8.8755 7.09441 8.8755 7.58575C8.8755 8.07709 8.47719 8.4754 7.98585 8.4754C7.4945 8.4754 7.09619 8.07709 7.09619 7.58575Z",fill:"inherit",fillOpacity:"0.5"})})},ex=l(92754);let ep=e=>{let{setIsWalletModalOpen:t}=e,{connecting:l}=H(),n=(0,a.useCallback)(e=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():t(!0)},[t]);return(0,s.jsx)("button",{type:"button",className:"px-2 h-12 flex items-center text-xs bg-v3-dark text-v3-primary hover:text-v3-dark border-v3-primary border-b-2 hover:bg-v3-primary transition duration-300",onClick:n,children:l?(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Connecting..."})}):(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Connect Wallet"})})})},eh=()=>{var e;let{publicKey:t,wallet:l}=H();return l&&t?(0,s.jsxs)("div",{className:"flex items-center bg-[#191B1F] py-2 px-3 h-7",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-[#191B1F] dark:bg-white-10 flex justify-center items-center",style:{position:"relative"},children:(0,s.jsx)("img",{alt:"Wallet logo",width:16,height:16,src:null==l?void 0:null===(e=l.adapter)||void 0===e?void 0:e.icon})}),(0,s.jsx)("div",{className:"ml-2",children:(0,s.jsx)("div",{className:"text-xs text-v3-light",children:(0,g.Xn)("".concat(t))})})]}):null};var ef=l(59898);let ev=e=>{let{setIsWalletModalOpen:t}=e,{publicKey:l,connected:n,connecting:r,disconnect:i}=H(),[o,d]=(0,a.useState)(!1),u=(0,a.useRef)(null),{screen:m}=c(),x=(0,a.useMemo)(()=>null==l?void 0:l.toBase58(),[l]);return((0,g.O3)(u,()=>{d(!1)}),(n||r)&&x)?(0,s.jsxs)("div",{className:"cursor-pointer relative",children:[(0,s.jsx)("div",{onClick:()=>d(!o),children:(0,s.jsx)(eh,{})}),"Initial"===m?(0,s.jsx)("ul",{"aria-label":"dropdown-list",className:o?"absolute block top-10 right-0 text-sm bg-black p-2 text-v3-light dark:bg-white dark:text-black":"hidden",ref:u,role:"menu",children:(0,s.jsx)("li",{onClick:()=>{d(!1),i()},role:"menuitem",children:(0,s.jsx)("span",{children:"Disconnect"})})}):null]}):(0,s.jsx)(ef.uS,{buttonClassName:"!bg-transparent",overrideContent:(0,s.jsx)(ep,{setIsWalletModalOpen:t})})};var eg=l(84875),ej=l.n(eg),ew=l(49265),eb=l(35026),ey=l(78765),eN=e=>{let{message:t,iconSize:l=20,className:n}=e;return(0,s.jsxs)("div",{className:"md:px-6 mt-1 flex items-center text-xs fill-current text-black/50 dark:text-v3-light font-semibold ".concat(n),children:[(0,s.jsx)(ey.Z,{width:l,height:l}),(0,s.jsx)("span",{className:"ml-2",children:t})]})},eC=l(45412),eM=e=>{let{idx:t,itemsCount:l,className:n="",onClick:r,highlighted:i,roundBorder:o,children:c}=e,d=(0,a.useMemo)(()=>{if(t>0&&t<l)return"border-l border-white/10"},[t,l]);return(0,s.jsx)("button",{type:"button",className:ej()("!h-[42px] relative border border-transparent",d,i?" ".concat("left"===o?"rounded-l-xl":"right"===o?"rounded-r-xl":""," !border-v3-primary"):"","relative flex-1 py-4 px-1 text-v3-light/50 bg-[#1B1B1E]",n),onClick:r,children:(0,s.jsx)("div",{className:"h-full w-full leading-none flex justify-center items-center",children:c})})},ek=l(48024);let eA=e=>{var t;let{tokenInfo:l,amount:n,maxDecimals:r,prefix:i=""}=e,{tokenPriceMap:o,getUSDValue:c}=eo(),d=l.address,u=d&&(null===(t=o[d])||void 0===t?void 0:t.usd)||0,m=(0,a.useMemo)(()=>n&&(0,g.Hd)(n)?new p.Z(n).mul(u):new p.Z(0),[n,u]);return(0,a.useEffect)(()=>{d&&c([d])},[d,c]),(0,s.jsxs)(s.Fragment,{children:[i,"$",g.uf.format(m,r||2)]})};var eS=l(22523),eI=l(32865);let eE={MEDIUM:"Fast",HIGH:"Turbo",VERY_HIGH:"Ultra"},eD={MAX:"Max Cap",EXACT:"Exact Fee"},eT=()=>(0,s.jsx)("div",{className:"my-4 border-b border-white/10"}),eL=["0.3",String(v.zI),"1.0"];var eO=e=>{let{closeModal:t}=e,{form:{slippageBps:l},setForm:n,jupiter:{asLegacyTransaction:r,setAsLegacyTransaction:i},setUserSlippage:o}=ee(),{data:c}=w(),{priorityFee:d,priorityMode:u,priorityLevel:m,setPriorityFee:x,setPriorityMode:p,setPriorityLevel:h}=S(),{wallet:f}=H(),v=(0,a.useMemo)(()=>{let e=l/100;return eL.find(t=>Number(t)===e)},[l]),j=(0,ew.cI)({defaultValues:{...l?v?{slippagePreset:String(v)}:{slippageInput:String(l/100)}:{},asLegacyTransaction:r,unsavedPriorityFee:d,unsavedPriorityMode:u,unsavedPriorityLevel:m,hasUnsavedFeeChanges:!1}}),b=(0,a.useRef)(),y=(0,a.useRef)(!v),N=j.watch("slippageInput"),C=j.watch("slippagePreset"),M=(0,a.useMemo)(()=>Number(N)>=0&&50>=Number(N),[N]),k=(0,a.useMemo)(()=>!1===y.current?"":.05>=Number(N)?(0,s.jsx)("span",{children:"Your transaction may fail"}):Number(N)>=10?(0,s.jsx)("span",{children:"Warning, slippage is high"}):"",[N]),[A,I]=(0,a.useState)(!1),E=j.watch("unsavedPriorityFee"),D=j.watch("unsavedPriorityMode"),T=j.watch("unsavedPriorityLevel"),L=j.watch("hasUnsavedFeeChanges"),O=(0,a.useMemo)(()=>"MAX"===D,[D]),P=(0,a.useMemo)(()=>(0,g.ks)(E,9),[E]),z=(0,a.useMemo)(()=>{var e;let t=null!==(e=null==c?void 0:c.jup.m)&&void 0!==e?e:0;return t>P},[null==c?void 0:c.jup.m,P]),R=j.watch("asLegacyTransaction"),V=(0,a.useMemo)(()=>{var e,t;return null==f?void 0:null===(t=f.adapter)||void 0===t?void 0:null===(e=t.supportedTransactionVersions)||void 0===e?void 0:e.has(0)},[f]),Z=(0,a.useMemo)(()=>!!y.current&&!N||(C?!!L&&E<=0:!M),[L,M,N,C,E]),B=(0,a.useCallback)(e=>{let{slippageInput:l,slippagePreset:s,asLegacyTransaction:r}=e,a=l?Number(l):Number(s);"number"==typeof a&&n(e=>({...e,slippageBps:100*a})),i(r),o(a),L&&(x(E),p(D),h(T)),t()},[t,L,i,n,x,h,p,o,E,T,D]);return(0,s.jsxs)("div",{className:ej()("w-full rounded-xl flex flex-col bg-v3-dark text-v3-light shadow-xl max-h-[90%]"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-white/10",children:[(0,s.jsx)("div",{className:"text-sm font-semibold",children:(0,s.jsx)("span",{children:"Swap Settings"})}),(0,s.jsx)("div",{className:"text-v3-light fill-current cursor-pointer",onClick:()=>t(),children:(0,s.jsx)(ed.Z,{width:14,height:14})})]}),(0,s.jsx)("form",{onSubmit:j.handleSubmit(B),className:ej()("relative w-full overflow-y-auto webkit-scrollbar overflow-x-hidden"),children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:ej()("mt-2 px-5"),children:[(0,s.jsxs)("div",{className:"flex items-center text-sm font-semibold",children:[(0,s.jsx)("span",{children:"Global Priority Fee"}),(0,s.jsx)(eC.Z,{variant:"dark",className:"!left-0 !top-16 w-[50%]",content:(0,s.jsx)("span",{className:"flex rounded-lg text-xs text-v3-light/75",children:"The priority fee is paid to the Solana network. This additional fee helps boost how a transaction is prioritized against others, resulting in faster transaction execution times."}),children:(0,s.jsx)("div",{className:"flex ml-2.5 items-center text-v3-light-35 fill-current",children:(0,s.jsx)(ey.Z,{width:12,height:12})})})]}),(0,s.jsx)("p",{className:"text-xs text-v3-light/50 font-[500] mt-2",children:"These fees apply across Jupiter’s entire product suite, such as Swap, Perps, DCA, Limit Order"}),(0,s.jsxs)("div",{className:"flex flex-col mt-2",children:[(0,s.jsx)("p",{className:"text-xs font-semibold",children:"Priority Mode"}),(0,s.jsx)("div",{className:"mt-2 flex items-center rounded-xl ring-1 ring-white/5 overflow-hidden",children:(0,s.jsx)(ew.Qr,{name:"unsavedPriorityMode",control:j.control,render:e=>{let{field:{onChange:t,value:l}}=e;return(0,s.jsx)(s.Fragment,{children:Object.entries(eD).map((e,n)=>{let[r,i]=e;return(0,s.jsx)(eM,{idx:n,itemsCount:Object.keys(eD).length,roundBorder:0===n?"left":n===Object.keys(eD).length-1?"right":void 0,highlighted:l===r,onClick:()=>{j.setValue("hasUnsavedFeeChanges",!0),t(r)},children:(0,s.jsx)("div",{className:"whitespace-nowrap px-4",children:(0,s.jsx)("p",{className:"text-xs whitespace-nowrap",children:i})})},n)})})}})})]}),(0,s.jsxs)("div",{className:"transition-height duration-300 ease-in-out animate-fade-in ".concat(O?"h-[76px] opacity-100":"h-0 opacity-0 overflow-hidden"),children:[(0,s.jsx)("p",{className:"text-xs font-semibold mt-4",children:"Priority Level"}),(0,s.jsx)("div",{className:"flex items-center mt-2 rounded-xl ring-1 ring-white/5 overflow-hidden",children:(0,s.jsx)(ew.Qr,{name:"unsavedPriorityLevel",control:j.control,render:e=>{let{field:{value:t,onChange:l}}=e;return(0,s.jsx)(s.Fragment,{children:Object.entries(eE).map((e,n)=>{let[r,i]=e;return(0,s.jsx)(eM,{idx:n,itemsCount:Object.keys(eE).length,roundBorder:0===n?"left":n===Object.keys(eE).length-1?"right":void 0,highlighted:t===r,onClick:()=>{j.setValue("hasUnsavedFeeChanges",!0),l(r)},children:(0,s.jsx)("div",{className:"whitespace-nowrap",children:(0,s.jsx)("p",{className:"text-sm text-v3-light",children:i})})},n)})})}})})]}),(0,s.jsx)("div",{className:"text-xs text-v2-lily/50",children:O?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Jupiter intelligently minimizes and decides the best fee for you."}),(0,s.jsx)("p",{children:"Set a max cap to prevent overpaying."})]}):(0,s.jsx)("p",{className:"mt-2",children:"Jupiter will use the exact fee you set."})}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[O?(0,s.jsx)("p",{className:"text-sm text-v3-light/75 font-[500]",children:"Set Max Cap"}):(0,s.jsx)("p",{className:"text-sm text-v3-light/75 font-[500]",children:"Exact Fee"}),(0,s.jsx)("span",{className:"text-xxs mt-1 text-v3-light/25 font-normal self-end",children:(0,s.jsx)(eA,{tokenInfo:ec.Zt,amount:E,maxDecimals:4,prefix:"~"})})]}),(0,s.jsx)("div",{className:"relative mt-1",children:(0,s.jsx)(ew.Qr,{name:"unsavedPriorityFee",control:j.control,render:e=>{let{field:{value:t,onChange:l}}=e,n=","===g.A5?".":",";return(0,s.jsx)(eb.h3,{value:t,onValueChange:e=>{let{floatValue:t}=e;"number"!=typeof t||t<=0||(j.setValue("hasUnsavedFeeChanges",!0),l(t))},onFocus:()=>{I(!0)},onBlur:()=>{I(!1)},inputMode:"decimal",decimalScale:9,allowNegative:!1,thousandSeparator:n,allowedDecimalSeparators:[".",","],suffix:" SOL",placeholder:"Enter custom value",className:"text-left h-full w-full bg-[#1B1B1E] placeholder:text-v3-light/25 py-4 px-5 text-sm rounded-xl ring-1 ring-white/5 text-v3-light/50 pointer-events-all relative"})}})})]}),z&&(0,s.jsx)(eN,{iconSize:24,className:"!text-jupiter-primary !px-0",message:"Your current maximum fee is below the market rate. Please raise it to ensure your transactions are processed."}),(0,s.jsx)(eT,{}),(0,s.jsx)("div",{className:"flex items-center text-sm font-semibold",children:(0,s.jsx)("span",{children:"Slippage Settings"})}),(0,s.jsxs)("div",{className:"flex items-center mt-2.5 rounded-xl ring-1 ring-white/5 overflow-hidden text-sm",children:[(0,s.jsx)(ew.Qr,{name:"slippagePreset",control:j.control,render:e=>{let{field:{onChange:t,value:l}}=e;return(0,s.jsx)(s.Fragment,{children:eL.map((e,n)=>{let r=g.uf.format(Number(e))+"%";return(0,s.jsx)(eM,{idx:n,itemsCount:eL.length,className:"h-full",roundBorder:0===n?"left":void 0,highlighted:!y.current&&Number(l)===Number(e),onClick:()=>{y.current=!1,j.setValue("slippageInput",""),t(e)},children:r},n)})})}}),(0,s.jsxs)("div",{onClick:()=>{var e;null===(e=b.current)||void 0===e||e.focus(),y.current=!0},className:ej()("flex items-center justify-between cursor-text w-[120px] !h-[42px] text-v3-light/50 bg-[#1B1B1E] pl-2 text-sm relative",y.current?"border border-v3-primary rounded-r-xl":""),children:[(0,s.jsx)("span",{className:"text-xs",children:(0,s.jsx)("span",{children:"Custom"})}),(0,s.jsx)(ew.Qr,{name:"slippageInput",control:j.control,render:e=>{let{field:{onChange:t,value:l}}=e;return(0,s.jsx)(eb.h3,{value:void 0===l?"":l,decimalScale:2,isAllowed:e=>100>=(e.floatValue||0)&&(e.floatValue||0)>=0,getInputRef:e=>b.current=e,allowNegative:!1,onValueChange:e=>{let{value:l,floatValue:s}=e;t(l),void 0!==s&&j.setValue("slippagePreset",void 0)},allowLeadingZeros:!1,suffix:"%",className:"w-full bg-[#1B1B1E] pr-4 text-sm rounded-lg placeholder:text-v2-lily/25 text-v2-lily/50 text-right pointer-events-all",decimalSeparator:g.A5,placeholder:","===g.A5?"0,00%":"0.00%"})}})]})]}),(0,s.jsxs)("div",{children:[y.current&&!M&&(0,s.jsx)(eN,{iconSize:14,className:"!text-jupiter-primary !px-0",message:"Please set a slippage value that is within ".concat(0,"% to ").concat(50,"%")}),k&&(0,s.jsx)(eN,{iconSize:14,className:"!text-jupiter-primary !px-0",message:k})]}),(0,s.jsx)(eT,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:"Versioned Tx."}),(0,s.jsx)("a",{href:"https://docs.jup.ag/docs/additional-topics/composing-with-versioned-transaction#what-are-versioned-transactions",rel:"noreferrer",target:"_blank",className:"cursor-pointer",children:(0,s.jsx)(ek.Z,{})})]}),(0,s.jsx)(eI.Z,{active:!R,onClick:()=>j.setValue("asLegacyTransaction",!R)})]}),(0,s.jsx)("p",{className:"mt-2 text-xs text-v3-light/50",children:"Versioned Tx is a significant upgrade that allows for more advanced routings and better prices!"}),(null==f?void 0:f.adapter)?(0,s.jsx)("p",{className:"mt-2 text-xs text-v3-light/50",children:V?"Your wallet supports Versioned Tx. and it has been turned on by default.":"Your wallet does not support Versioned Tx."}):null,(0,s.jsx)(eT,{}),(0,s.jsx)("div",{className:"flex items-center justify-between mt-2",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:"Strict Token list"}),(0,s.jsx)("a",{href:"https://docs.jup.ag/docs/token-list/token-list-api",rel:"noreferrer",target:"_blank",className:"cursor-pointer",children:(0,s.jsx)(ek.Z,{})})]})}),(0,s.jsx)("p",{className:"mt-2 text-xs text-v3-light/50",children:'The strict list contains a smaller set of validated tokens. To see all tokens, toggle "off".'})]}),(0,s.jsx)("div",{className:"px-5 pb-5",children:(0,s.jsx)(eS.Z,{type:"submit",className:"w-full mt-4",disabled:Z,size:"lg",children:(0,s.jsx)("span",{children:"Save Settings"})})})]})})]})},eP=e=>{let{setIsWalletModalOpen:t}=e,{form:l,jupiter:{refresh:n}}=ee(),[r,i]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>"https://jup.ag/swap/".concat(l.fromMint,"-").concat(l.toMint,"?inAmount=").concat(l.fromValue),[l]),c=(0,a.useMemo)(()=>{let e=l.slippageBps/100;return isNaN(e)?"0":g.uf.format(e)},[l.slippageBps]);return(0,s.jsxs)("div",{className:" h-12 border-v3-primary border-b-2",children:[(0,s.jsxs)("div",{className:"pl-2 w-full flex items-center justify-between ",children:[(0,s.jsxs)("a",{href:o,target:"_blank",rel:"noreferrer noopener",className:"flex items-center space-x-2",children:[(0,s.jsx)(ex.Z,{width:24,height:24}),(0,s.jsx)("span",{className:"font-bold text-sm text-v3-primary",children:"Jupiter"})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("button",{type:"button",className:"h-12 w-10 flex items-center justify-center border-v3-primary border-r-2 border-l-2 text-v3-primary fill-current",onClick:n,children:(0,s.jsx)(eu,{})}),(0,s.jsxs)("button",{type:"button",className:"px-2 h-12 flex items-center justify-center border-v3-primary border-r-2 text-v3-primary fill-current",onClick:()=>i(!0),children:[(0,s.jsx)(em,{}),(0,s.jsxs)("span",{suppressHydrationWarning:!0,className:"text-xs text-v3-primary-30",children:[c,"%"]})]}),(0,s.jsx)(ev,{setIsWalletModalOpen:t})]})]}),r?(0,s.jsx)("div",{className:"absolute z-10 top-0 left-0 w-full h-full overflow-hidden bg-black/50 flex items-center px-4",children:(0,s.jsx)(eO,{closeModal:()=>i(!1)})}):null]})};let ez=async e=>{try{let t=await e.getRecentPerformanceSamples(6),l=t.reduce((e,t)=>(0!==t.numTransactions&&(e.numTransactions+=t.numTransactions,e.samplePeriodSecs+=t.samplePeriodSecs),e),{numTransactions:0,samplePeriodSecs:0}),s=l.numTransactions/(l.samplePeriodSecs||1);return s}catch(e){return console.error(e),0}};var eR=()=>{let[e,t]=(0,a.useState)([]),{connection:l}=(0,i.R)();(0,j.a)(["tps-monitor"],async()=>{let e=0;try{e=await ez(l)}catch(e){}finally{t(t=>{let l=[...t];return(null==l?void 0:l.length)===3&&l.shift(),l.push(e),l})}if(e<=1500)throw Error("Low TPS");return null},{refetchInterval:1e4,retryDelay:2e3});let n=(0,a.useMemo)(()=>e.length>0&&e.every(e=>e<=1500),[e]),r=(0,a.useMemo)(()=>3===e.length&&e.every(e=>0===e),[e]),o=(0,a.useMemo)(()=>r?(0,s.jsx)("span",{className:"flex text-xs justify-center items-center text-left",children:(0,s.jsx)("div",{className:"ml-1 text-rock",children:(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Your RPC is not responding to any requests."})})})}):n?(0,s.jsx)("span",{className:"flex text-xs justify-center items-center text-left",children:(0,s.jsx)("div",{className:"ml-1 text-rock",children:(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Solana network is experiencing degraded performance. Transactions may fail to send or confirm."})})})}):null,[n,r]);return{isLowTPS:n,isRPCDown:r,message:o}},eV=e=>{let{accounts:t,nativeAccount:l}=_(),{wallet:n}=H(),r=a.useMemo(()=>{var e;return null==n?void 0:null===(e=n.adapter.publicKey)||void 0===e?void 0:e.toString()},[null==n?void 0:n.adapter.publicKey]),i=a.useMemo(()=>{var s;return e.mintAddress===v.W4.toString()?(null==l?void 0:l.balance)||0:(null===(s=t[e.mintAddress])||void 0===s?void 0:s.balance)||0},[t,l,e.mintAddress]);return e.hideZeroBalance&&0===i?null:r?(0,s.jsx)("span",{translate:"no",children:g.uf.format(i,6)}):(0,s.jsx)("span",{translate:"no",children:g.uf.format(0,6)})},eZ=e=>{let{errors:t}=e;return(0,s.jsx)(s.Fragment,{children:Object.keys(t).map(e=>(0,s.jsx)("div",{className:"w-full mt-5 bg-[#292A33] border border-black/10 dark:border-white/25 shadow-row-dark py-3 px-5 space-y-1 rounded-lg backdrop-blur-[20px]",children:(0,s.jsx)("div",{className:"flex items-start space-x-2.5",children:(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("p",{className:"text-[12px] leading-[1.67] font-bold !text-[#F04A44]",children:t[e].title}),t[e].message?(0,s.jsx)("p",{className:"text-[12px] leading-[1.17] font-medium dark:text-v3-light/50 text-black/50",children:t[e].message}):null]})})},e))})},eB=l(68614),eF=l(33571);let eJ=e=>{let{width:t="20",height:l="20"}=e;return(0,s.jsx)("svg",{width:t,height:l,viewBox:"0 0 7 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M2.11894 4.99859H4.79173C5.96242 4.99859 6.92699 4.04958 6.94255 2.89521C6.94255 1.72452 5.97798 0.791834 4.79173 0.791834L2.75212 0.791092C2.54675 0.332152 2.08781 0 1.5503 0C0.822978 0 0.237252 0.601291 0.237252 1.31305C0.237252 2.0248 0.838542 2.62609 1.5503 2.62609C2.10414 2.62609 2.56232 2.29394 2.75212 1.835H4.79248C5.40934 1.835 5.91573 2.34139 5.91573 2.91079C5.91573 3.4802 5.40934 3.98659 4.79248 3.98659H2.15083C0.980134 3.98659 0.0155637 4.93559 0 6.08997C0 7.27622 0.964571 8.19334 2.15083 8.19334H4.34911C4.55447 8.65228 5.01341 9 5.55093 9C6.27825 9 6.86398 8.39871 6.86398 7.68695C6.86398 6.95964 6.26269 6.37391 5.55093 6.37391C4.99709 6.37391 4.53891 6.70606 4.34911 7.165L2.13527 7.16574C1.51841 7.16574 1.01202 6.65935 1.01202 6.08995C1.01202 5.50498 1.50209 5.01415 2.11894 4.99859Z",fill:"white",fillOpacity:"0.5"})})};var eH=e=>{let{width:t=20,height:l=20}=e;return(0,s.jsx)("svg",{width:t,height:l,viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M2.0625 11H10.3125V2.75H8.59375V0H2.0625C0.923158 0 0 0.923158 0 2.0625V8.9375C0 10.0768 0.923158 11 2.0625 11ZM8.9375 4.125V9.625H2.0625C1.6825 9.625 1.375 9.3175 1.375 8.9375V4.00486C1.59589 4.08408 1.82818 4.12437 2.0625 4.12504L8.9375 4.125ZM2.0625 1.375H7.21875V2.75H2.0625C1.6825 2.75 1.375 2.4425 1.375 2.0625C1.375 1.6825 1.6825 1.375 2.0625 1.375Z",fill:"#FDE185",fillOpacity:"0.3"})})},eU=l(99231);let eW=e=>{let t=p.Z.abs(p.Z.ceil(new p.Z(-1).mul(p.Z.log10(e)))).toNumber(),[l,s]=[new p.Z(e).toFixed().slice(0,t+2),new p.Z(e).toFixed().slice(t+1)];return[t,l,s]};var eQ=e=>{let{value:t,maxSuffix:l}=e,[n,r,i]=eW(t);return n<=5?(0,s.jsx)("span",{children:t.toFixed(6)}):(0,s.jsxs)("span",{className:"flex items-center h-4",children:["0.0",(0,s.jsx)("span",{className:"mb-3 text-xl mx-0.5",children:function(e){let t=["₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"],l=e.toString(),s="";for(let e=0;e<l.length;e++){let n=parseInt(l.charAt(e),10),r=t[n];s+=r}return s}(n-1)}),i.slice(0,l)]})};let eq=(e,t)=>{let{inAmount:l,inputDecimal:s,outAmount:n,outputDecimal:r}=e,i=(0,g.lt)(l,s),a=(0,g.lt)(n,r),o=t?new p.Z(a).div(i):new p.Z(i).div(a);return Number.isNaN(o.toNumber())?new p.Z(0):o},eK=e=>{let{width:t=16,height:l=16}=e;return(0,s.jsx)("svg",{width:t,height:l,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M10.8573 8.18429L13.6323 5.95933L10.8573 3.73438V5.31937H3.32735V6.59937H10.8573V8.18429ZM5.14223 7.81429L2.36719 10.0393L5.14223 12.2642V10.6792H12.6722V9.39922H5.14223V7.81429Z",fill:"#777777"})})};var eY=e=>{let{className:t,textClassName:l,loading:n=!1,fromTokenInfo:r,rateParams:i,toTokenInfo:o,reversible:c=!0}=e,[d,u]=a.useState(null==c||c),m=a.useMemo(()=>eq(i,d),[d,i]),x=a.useCallback(e=>{e.stopPropagation(),u(e=>!e)},[]);return(0,s.jsxs)("div",{className:ej()(t,"flex cursor-pointer text-v3-light/30 text-xs align-center"),onClick:x,children:[(0,s.jsx)("span",{className:ej()(l,"max-w-full flex whitespace-nowrap"),children:d?(0,s.jsxs)(s.Fragment,{children:["1 ",r.symbol," ≈",(0,s.jsx)("div",{className:"flex ml-0.5",children:m.gt(1e-5)?"".concat(g.uf.format(m.toNumber())," ").concat(o.symbol):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ,{value:m.toNumber(),maxSuffix:6})," ",o.symbol]})})]}):(0,s.jsxs)(s.Fragment,{children:["1 ",o.symbol," ≈",(0,s.jsx)("div",{className:"flex ml-0.5",children:m.gt(1e-5)?"".concat(g.uf.format(m.toNumber())," ").concat(r.symbol):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eQ,{value:m.toNumber(),maxSuffix:6})," ",r.symbol]})})]})}),c?(0,s.jsx)("div",{className:"ml-2",children:(0,s.jsx)(eK,{})}):null]})},eG=e=>{let{hasSerumDeposit:t,hasAtaDeposit:l,feeInformation:n}=e;return t||l?(0,s.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,s.jsxs)("div",{className:"flex w-[50%] text-v3-light/30",children:[(0,s.jsx)("span",{children:"Deposit"}),(0,s.jsx)(eC.Z,{variant:"dark",className:"-mt-24",content:(0,s.jsx)("div",{className:"max-w-xs p-2 text-v3-light-75",children:(0,s.jsxs)("ul",{className:"pl-2",children:[t&&(0,s.jsx)("li",{children:(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{children:"Open serum require an OpenOrders account but it can be closed later on."})," ",(0,s.jsx)("a",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/document/d/1qEWc_Bmc1aAxyCUcilKB4ZYpOu3B0BxIbe__dRYmVns",children:(0,s.jsx)("span",{children:"Check here"})}),"."]})}),l&&(0,s.jsx)("li",{children:(0,s.jsx)("p",{children:(0,s.jsx)("span",{children:"You need to have the token program in order to execute the trade."})})})]})}),children:(0,s.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,s.jsx)("div",{className:"w-[50%] text-v3-light/30 text-xs text-right",children:(()=>{var e,r,i;if(!n)return"Unable to determine fees";let a=[l&&(0,s.jsx)("p",{children:(0,s.jsxs)("span",{children:[g.uf.format((0,g.lt)(null==n?void 0:n.ataDeposits.reduce((e,t)=>e+=t,0),9))," ","SOL for ",null==n?void 0:null===(e=n.ataDeposits)||void 0===e?void 0:e.length," ",((null==n?void 0:null===(r=n.ataDeposits)||void 0===r?void 0:r.length)||0)>0?"ATA account":"ATA accounts"]})},"ata"),t&&(0,s.jsx)("p",{children:(0,s.jsxs)("span",{children:[g.uf.format((0,g.lt)(null==n?void 0:n.openOrdersDeposits.reduce((e,t)=>e+=t,0),9))," ","SOL for ",null==n?void 0:n.openOrdersDeposits.length," ",((null==n?void 0:null===(i=n.openOrdersDeposits)||void 0===i?void 0:i.length)||0)>0?"Serum OpenOrders account":"Serum OpenOrders accounts"]})},"serum")].filter(Boolean);return a.length?a:"-"})()})]}):null},eX=e=>{let{routePlan:t}=e,{getTokenInfo:l}=V();return!t||t&&0===t.length?null:(0,s.jsx)(s.Fragment,{children:t.map((e,t)=>{var n;let r=l(e.swapInfo.feeMint.toString()),i=null!==(n=null==r?void 0:r.decimals)&&void 0!==n?n:6,a=g.uf.format(new p.Z(e.swapInfo.feeAmount.toString()).div(Math.pow(10,i))),o=new p.Z(e.swapInfo.feeAmount.toString()).div(new p.Z(e.swapInfo.inputMint.toString()===e.swapInfo.feeMint.toString()?e.swapInfo.inAmount.toString():e.swapInfo.outAmount.toString())).toDP(4);return(0,s.jsxs)("div",{className:"flex items-center space-x-4 justify-between text-xs",children:[(0,s.jsx)("div",{className:"text-v3-light/30",children:(0,s.jsx)("span",{children:(0,s.jsxs)("span",{children:["Fees paid to ",(0,s.jsx)("span",{translate:"no",children:e.swapInfo.label})," LP"]})})}),(0,s.jsxs)("div",{className:"text-v3-light/30 text-right",children:[a," ",null==r?void 0:r.symbol," (",g.uf.format(new p.Z(o).mul(100)),"%)"]})]},t)})})},e_=e=>{let{platformFee:t,tokenInfo:l}=e,n=(0,a.useMemo)(()=>t&&Number(null==t?void 0:t.amount)>0?g.uf.format((0,g.lt)(Number(null==t?void 0:t.amount),l.decimals)):null,[t,l.decimals]),r=(0,a.useMemo)(()=>t?(null==t?void 0:t.feeBps)/100+"%":null,[t]);return(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("div",{className:"flex w-[50%] text-v3-light/30",children:(0,s.jsx)("span",{children:"Platform Fee"})}),(0,s.jsxs)("div",{className:"text-v3-light/30",children:[n," ",l.symbol," (",r,")"]})]})},e$=e=>{let{feeInformation:t}=e,l=(0,a.useMemo)(()=>t?g.uf.format((0,g.lt)(t.signatureFee,9)):"-",[t]);return(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsxs)("div",{className:"flex w-[50%] text-v3-light/30",children:[(0,s.jsx)("span",{children:"Transaction Fee"}),(0,s.jsx)(eC.Z,{content:(0,s.jsx)("span",{children:"This is for Solana transaction fee"}),children:(0,s.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,s.jsxs)("div",{className:"text-v3-light/30",children:[l," SOL"]})]})},e0=e=>{var t,l;let{quoteResponse:n,fromTokenInfo:i,toTokenInfo:o,loading:c,showFullDetails:d=!1,containerClassName:u}=e,m={inAmount:(null==n?void 0:n.inAmount)||eU.xE,inputDecimal:i.decimals,outAmount:(null==n?void 0:n.outAmount)||eU.xE,outputDecimal:o.decimals},{accounts:x}=_(),{wallet:h}=H(),v=(0,a.useMemo)(()=>{var e;return null==h?void 0:null===(e=h.adapter.publicKey)||void 0===e?void 0:e.toString()},[null==h?void 0:h.adapter.publicKey]),j=g.uf.format(new p.Z((null==n?void 0:n.priceImpactPct)||0).mul(100).toDP(4).toNumber()),w=.1>Number(j)?"< ".concat(g.uf.format(.1),"%"):"~ ".concat(j,"%"),b=(0,a.useMemo)(()=>{if(null==n?void 0:n.otherAmountThreshold){let e=new p.Z(n.otherAmountThreshold.toString()).div(Math.pow(10,o.decimals)),t=g.uf.format(e.toNumber());return"".concat(t," ").concat(o.symbol)}return"-"},[n.otherAmountThreshold,o.decimals,o.symbol]),[y,N]=(0,a.useState)(),C=(0,a.useMemo)(()=>new Map(Object.entries(x).map(e=>[e[0],e[1].pubkey.toString()])),[x]);(0,a.useEffect)(()=>{if(n){let e=(0,r.rR)(n,C,new Map,!0,!0);N(e)}else N(void 0)},[n,v,C]);let M=(null!==(t=null==y?void 0:y.ataDeposits.length)&&void 0!==t?t:0)>0,k=(null!==(l=null==y?void 0:y.openOrdersDeposits.length)&&void 0!==l?l:0)>0,{priorityFee:A}=S();return(0,s.jsxs)("div",{className:ej()("mt-4 space-y-4 border border-white/5 rounded-xl p-3",u),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("div",{className:"text-v3-light/30",children:(0,s.jsx)("span",{children:"Rate"})}),f().greaterThan(m.inAmount,eU.xE)&&f().greaterThan(m.outAmount,eU.xE)?(0,s.jsx)(eY,{loading:c,rateParams:m,fromTokenInfo:i,toTokenInfo:o,reversible:!0}):(0,s.jsx)("span",{className:"text-v3-light/30",children:"-"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-v3-light/30",children:[(0,s.jsx)("div",{children:(0,s.jsx)("span",{children:"Price Impact"})}),(0,s.jsx)("div",{children:w})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("div",{className:"text-v3-light/30",children:(null==n?void 0:n.swapMode)===r.jr.ExactIn?(0,s.jsx)("span",{children:"Minimum Received"}):(0,s.jsx)("span",{children:"Maximum Consumed"})}),(0,s.jsx)("div",{className:"text-v3-light/30",children:b})]}),d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eX,{routePlan:null==n?void 0:n.routePlan,swapMode:n.swapMode}),(0,s.jsx)(e$,{feeInformation:y}),(0,s.jsx)(eG,{hasSerumDeposit:k,hasAtaDeposit:M,feeInformation:y}),n.platformFee?(0,s.jsx)(e_,{platformFee:n.platformFee,tokenInfo:(null==n?void 0:n.swapMode)===r.jr.ExactIn?o:i}):null,A>0?(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("div",{className:"text-v3-light/30",children:"Max Priority Fee"}),(0,s.jsxs)("div",{className:"text-v3-light/30",children:[A," SOL"]})]}):null]}):null]})};let e1=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9.04393 5.74021L12 3.3701L9.04393 1V2.68839H1.0228V4.05189H9.04393V5.74021ZM2.95607 5.34607L0 7.71617L2.95607 10.0863V8.39789H10.9772V7.03439H2.95607V5.34607Z",fill:"#FDE185"})});var e2=e=>{let{className:t,onClick:l,disabled:n}=e;return(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{onClick:l,className:"dark:text-v3-light-35 dark:hover:text-v3-light/50 dark:hover:border-white/50 h-8 w-8 flex items-center justify-center cursor-pointer ".concat(n?"opacity-50 cursor-not-allowed":""," ").concat(t),children:(0,s.jsx)("div",{className:"block -rotate-45",children:(0,s.jsx)(e1,{})})})})},e3=()=>{let{jupiter:{lastRefreshTimestamp:e}}=ee(),[t,l]=a.useState(!1),[s,n]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t=setInterval(()=>{let t=Date.now()>e+ec.t9,s=(Date.now()-(e+ec.t9))/1e3;n(s/(ec.t9/1e3)*100),l(t)},1e3);return()=>clearInterval(t)},[e]),[t,s]},e5=e=>{let{onSubmit:t,isDisabled:l,setSelectPairSelector:n,setIsWalletModalOpen:r}=e,{publicKey:i}=H(),{accounts:o}=_(),{form:c,setForm:d,isToPairFocused:u,errors:m,fromTokenInfo:x,toTokenInfo:p,quoteResponseMeta:h,formProps:{swapMode:f,fixedAmount:j,fixedInputMint:w,fixedOutputMint:b},jupiter:{quoteResponseMeta:y,loading:N,error:C,refresh:M}}=ee(),[k,A]=e3();(0,a.useEffect)(()=>{k&&M()},[k]);let S=(0,a.useMemo)(()=>null==i?void 0:i.toString(),[i]),I=(0,a.useMemo)(()=>{var e;return x&&(null===(e=o[x.address])||void 0===e?void 0:e.balance)||0},[o,x]),E=(0,a.useCallback)(e=>{e.preventDefault(),I&&"ExactOut"!==f&&((null==x?void 0:x.address)===v.W4.toBase58()?d(e=>({...e,fromValue:String(I>ec.WO?(I-ec.WO).toFixed(6):0)})):d(e=>({...e,fromValue:String(I)})))},[I,null==x?void 0:x.address,d,f]),D=(0,a.useMemo)(()=>w||b,[w,b]),{inputAmountDisabled:T}=(0,a.useMemo)(()=>{let e={inputAmountDisabled:!0,outputAmountDisabled:!0};return j||("ExactOut"===f?e.outputAmountDisabled=!1:e.inputAmountDisabled=!1),e},[j,f]),L=h?h.quoteResponse.routePlan.map(e=>{let{swapInfo:t}=e;return t.label}).join(", "):"",O=(0,a.useCallback)(()=>{w||n("fromMint")},[w,n]),P=(0,a.useCallback)(()=>{b||n("toMint")},[b,n]),z=(0,a.useMemo)(()=>"ExactOut"!==f||c.toValue?"":"opacity-20 hover:opacity-100",[c.toValue,f]),R=(0,a.useMemo)(()=>","===g.A5?".":",",[]),V=(0,a.useCallback)(e=>{let{floatValue:t}=e;return!t||t<=ec.hV},[]),Z=(0,a.useCallback)(e=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():r(!0)},[r]);return(0,s.jsxs)("div",{className:"h-full flex flex-col items-center justify-center pb-4",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex-col",children:[(0,s.jsx)("div",{className:ej()("border-b border-transparent transition-all",z),children:(0,s.jsx)("div",{className:ej()("px-x border-transparent "),children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:ej()("py-5 px-4 flex flex-col dark:text-v3-light border-b-2 border-v3-primary box-content","group focus-within:border-v3-primary/100 focus-within:shadow-swap-input-dark"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("button",{type:"button",className:"py-2 px-3 flex items-center bg-v3-dark border-2 border-v3-primary hover:bg-v3-light/10 text-v3-primary",disabled:w,onClick:O,children:[(0,s.jsx)("div",{className:"h-5 w-5",children:(0,s.jsx)(eB.Z,{info:x,width:20,height:20})}),(0,s.jsx)("div",{className:"ml-4 mr-2 font-semibold",translate:"no",children:null==x?void 0:x.symbol}),w?null:(0,s.jsx)("span",{className:"text-v3-primary fill-current",children:(0,s.jsx)(eF.Z,{})})]}),(0,s.jsx)("div",{className:"ml-4 h-10 text-right border-v3-primary/60 border-b-2",children:(0,s.jsx)(eb.h3,{disabled:j||"ExactOut"===f,value:void 0===c.fromValue?"":c.fromValue,decimalScale:null==x?void 0:x.decimals,thousandSeparator:R,allowNegative:!1,valueIsNumericString:!0,onValueChange:e=>{let{value:t,floatValue:l,formattedValue:s}=e;if(""===t||!l){d(e=>({...e,fromValue:"",toValue:""}));return}let n=Number.isNaN(t);n||d(e=>({...e,fromValue:t}))},placeholder:"0.00",className:ej()("h-full w-full bg-transparent text-v3-light text-right font-semibold text-lg",{"cursor-not-allowed":T}),decimalSeparator:g.A5,isAllowed:V,onKeyDown:e=>{u.current=!1}})})]}),(null==x?void 0:x.address)?(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:ej()("flex mt-3 space-x-1 text-xs items-center text-v3-primary/30 fill-current",{"cursor-pointer":"ExactOut"!==f}),onClick:e=>{u.current=!1,E(e)},children:[(0,s.jsx)(eH,{width:10,height:10}),(0,s.jsx)(eV,{mintAddress:x.address}),(0,s.jsx)("span",{children:x.symbol})]}),c.fromValue?(0,s.jsx)("span",{className:"text-xs text-v3-light/30",children:(0,s.jsx)(eA,{tokenInfo:x,amount:c.fromValue})}):null]}):null]})})})}),(0,s.jsx)("div",{className:"my-2",children:D?null:(0,s.jsx)(e2,{onClick:()=>{d(e=>({...e,fromValue:"",toValue:"",fromMint:e.toMint,toMint:e.fromMint}))},className:ej()("transition-all",z)})}),(0,s.jsx)("div",{className:"border-b border-transparent",children:(0,s.jsx)("div",{className:"px-x border-transparent",children:(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:ej()("py-5 px-4 flex flex-col dark:text-v3-light border-b-2 border-t-2 border-v3-primary box-content","group focus-within:border-v3-primary/100 focus-within:shadow-swap-input-dark"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("button",{type:"button",className:"py-2 px-3 flex items-center bg-v3-dark border-2 border-v3-primary hover:bg-v3-light/10 text-v3-primary",disabled:b,onClick:P,children:[(0,s.jsx)("div",{className:"h-5 w-5",children:(0,s.jsx)(eB.Z,{info:p,width:20,height:20})}),(0,s.jsx)("div",{className:"ml-4 mr-2 font-semibold",translate:"no",children:null==p?void 0:p.symbol}),b?null:(0,s.jsx)("span",{className:"text-v3-light/25 fill-current",children:(0,s.jsx)(eF.Z,{})})]}),(0,s.jsx)("div",{className:"ml-4 h-9 text-right border-v3-primary/60 border-b-2",children:(0,s.jsx)(eb.h3,{disabled:!f||"ExactIn"===f,value:void 0===c.toValue?"":c.toValue,decimalScale:null==p?void 0:p.decimals,thousandSeparator:R,allowNegative:!1,valueIsNumericString:!0,onValueChange:e=>{let{value:t,floatValue:l,formattedValue:s}=e;if(""===t||!l){d(e=>({...e,fromValue:"",toValue:""}));return}let n=Number.isNaN(t);n||d(e=>({...e,toValue:t}))},placeholder:"ExactIn"===f?"":"Enter desired amount",className:ej()("h-full w-full bg-transparent text-v3-light text-right font-semibold  placeholder:text-sm placeholder:font-normal placeholder:text-v2-lily/20 text-lg"),decimalSeparator:g.A5,isAllowed:V,onKeyDown:e=>{e.metaKey||e.ctrlKey||"Meta"===e.key||"Control"===e.key||"Alt"===e.key||"Shift"===e.key||(u.current=!0)}})})]}),(null==p?void 0:p.address)?(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex mt-3 space-x-1 text-xs items-center text-v3-primary/30 fill-current",children:[(0,s.jsx)(eH,{width:10,height:10}),(0,s.jsx)(eV,{mintAddress:p.address}),(0,s.jsx)("span",{children:p.symbol})]}),c.toValue?(0,s.jsx)("span",{className:"text-xs text-v3-light/30",children:(0,s.jsx)(eA,{tokenInfo:p,amount:c.toValue})}):null]}):null]})})})}),(null==y?void 0:y.quoteResponse)?(0,s.jsxs)("div",{className:"flex items-center mt-2 text-xs space-x-1",children:[(0,s.jsx)("div",{className:"bg-black/20 px-2 py-1 text-v3-light/50 flex items-center space-x-1",children:(0,s.jsx)(eJ,{width:7,height:9})}),(0,s.jsx)("span",{className:"text-v3-light/30",children:"using"}),(0,s.jsx)("span",{className:"text-v3-light/50 overflow-hidden whitespace-nowrap text-ellipsis max-w-[70%]",children:L})]}):null]}),S?(0,s.jsx)(eZ,{errors:m}):null]}),(0,s.jsxs)("div",{className:"w-full px-12 pt-6",children:[S?(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4 disabled:opacity-50",type:"button",onClick:t,disabled:l||N,children:N?(0,s.jsx)("span",{className:"text-sm",children:"Loading..."}):C?(0,s.jsx)("span",{className:"text-sm",children:"Error fetching route. Try changing your input"}):(0,s.jsx)("div",{className:"text-v3-primary",children:"Swap"})}):(0,s.jsx)(ef.uS,{buttonClassName:"!bg-transparent",overrideContent:(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4 bg-v3-primary",type:"button",onClick:Z,children:"Connect Wallet"})}),y&&h&&x&&p?(0,s.jsx)(e0,{quoteResponse:h.quoteResponse,fromTokenInfo:x,toTokenInfo:p,loading:N}):null]})]})},e4=l(67391),e9=l(58712),e7=l(40387),e6=l(5177),e8=l(99132),te=l(45087),tt=()=>(0,s.jsx)("div",{className:"flex items-center text-v3-light fill-current",children:(0,s.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"inherit",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M7.30327 14.6058C8.75327 14.6074 10.1705 14.1746 11.3729 13.3637L15.5971 17.5871C16.1463 18.1371 17.0377 18.1371 17.5877 17.5871C18.1377 17.0371 18.1377 16.1457 17.5877 15.5964L13.3643 11.3722C14.5823 9.55661 14.9229 7.28943 14.2909 5.19563C13.6596 3.10183 12.1229 1.40183 10.1033 0.56283C8.08365 -0.276231 5.79385 -0.16607 3.86505 0.86283C1.93537 1.89251 0.569053 3.73243 0.140853 5.87683C-0.286487 8.02143 0.269759 10.2448 1.65725 11.9354C3.04397 13.6261 5.11665 14.6064 7.30325 14.6058H7.30327ZM7.30327 1.68943C8.79233 1.68865 10.2197 2.28005 11.2729 3.33319C12.3252 4.38631 12.9166 5.81359 12.9166 7.30279C12.9166 8.79199 12.3252 10.2192 11.2729 11.2724C10.2198 12.3247 8.79247 12.9162 7.30327 12.9162C5.81407 12.9162 4.38687 12.3247 3.33367 11.2724C2.28133 10.2193 1.68913 8.79199 1.68991 7.30279C1.69148 5.81451 2.28287 4.38719 3.33523 3.33479C4.38759 2.28239 5.81483 1.69103 7.30323 1.68947L7.30327 1.68943Z",fill:"inherit",fillOpacity:"0.25"})})}),tl=l(86763),ts=l.n(tl);let tn=e=>null!=e.match(/\.(webp|svg|jpeg|jpg|gif|png)$/);async function tr(e,t){let l=new Map,s=await (0,y.tl)(e,t.map(e=>{try{return new x.PublicKey(e)}catch(e){return null}}).filter(Boolean)),n=await (0,y.Kz)(e,s.map(e=>{let[t,{programId:l}]=e;return{mint:new x.PublicKey(t),programId:l}}));return await Promise.all(s.map(async e=>{var t;let[s,r]=e,i=null===(t=n.find(e=>e.account.mint.toString()===s))||void 0===t?void 0:t.account.data;l.set(s,r?{chainId:I.Vi.MainnetBeta,address:s,name:(null==i?void 0:i.name)||s.slice(0,3),symbol:(null==i?void 0:i.symbol)||s.slice(0,3),decimals:r.decimals,logoURI:(null==i?void 0:i.uri)&&tn(null==i?void 0:i.uri)?null==i?void 0:i.uri:await (async()=>{try{if(!(null==i?void 0:i.uri))return"";let e=await ti(null==i?void 0:i.uri).then(e=>e.json());return null==e?void 0:e.image}catch(e){return""}})(),tags:r.programId.equals(v.nA)?["token-2022","unknown"]:["unknown"]}:null)})),l}async function ti(e,t){var l;let s=new AbortController,n=setTimeout(()=>s.abort(),null!==(l=null==t?void 0:t.timeout)&&void 0!==l?l:3e3),r=await fetch(e,{...t,signal:s.signal});return clearTimeout(n),r}var ta=l(60106);let to=e=>{let{tokenInfo:t}=e,{getTokenExplorer:l}=(0,ta.oP)();return(0,s.jsxs)("a",{target:"_blank",rel:"noreferrer",className:"flex items-center bg-black/25 text-v3-light/75 px-2 py-0.5 space-x-1 rounded cursor-pointer",href:l(t.address),onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"text-xxs",children:(0,g.Xn)(t.address)}),(0,s.jsx)(ek.Z,{})]})};to.displayName="TokenLink";let tc=e=>{let{item:t}=e,{accounts:l}=_(),n=(0,a.useRef)(!1),r=(0,a.useRef)(!1),[i,o]=a.useState({isVerified:!1,isLST:!1,isUnknown:!1,isToken2022:!1,isFrozen:!1});(0,a.useEffect)(()=>{r.current||n.current||(n.current=!0,setTimeout(()=>{var e,s;let i={isVerified:(0,O.OR)(t),isLST:!!(null===(e=t.tags)||void 0===e?void 0:e.includes("lst")),isUnknown:(0,O.tr)(t),isToken2022:!!(0,O.kL)(t),isFrozen:(null===(s=l[t.address])||void 0===s?void 0:s.isFrozen)||!1};o(i),n.current=!1,r.current=!0},0))},[]);let c=(0,a.useMemo)(()=>{var e;let l=["verified","strict","community","lst","unknown","token-2022","new"],s=null===(e=t.tags)||void 0===e?void 0:e.filter(e=>!1===l.includes(e));return s},[t.tags]);if(!i)return null;let{isVerified:d,isLST:u,isUnknown:m,isToken2022:x,isFrozen:p}=i;return(0,s.jsxs)("div",{className:"flex justify-end gap-x-1",children:[p&&(0,s.jsx)("p",{className:"border rounded-md text-xxs leading-none transition-all py-0.5 px-1 border-warning/50 text-warning/50",children:(0,s.jsx)("span",{children:"Frozen"})}),m&&(0,s.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-v3-light/20",children:(0,s.jsx)("span",{children:"Unknown"})}),x&&(0,s.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-v3-light/20",children:(0,s.jsx)("span",{children:"Token2022"})}),null==c?void 0:c.map((e,t)=>(0,s.jsx)("div",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-v3-light/20",children:e},t)),u&&(0,s.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-v3-primary/50 border border-v3-primary/50 font-semibold",children:(0,s.jsx)("span",{children:"LST"})}),d&&(0,s.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-v3-primary/50 border border-v3-primary/50 font-semibold",children:(0,s.jsx)("span",{children:"Community"})})]})};var td=e=>{let{item:t,style:l,onSubmit:n,suppressCloseModal:r,usdValue:i,showExplorer:o=!0,enableUnknownTokenWarning:c=!0}=e,d=a.useCallback(()=>{if(n(t),r)return},[n,t,r]),u=i&&i.gt(.01)?"$".concat(g.uf.format(i.toDP(2).toNumber())):"";return(0,s.jsx)("li",{className:"rounded cursor-pointer px-5 my-1 list-none flex w-full items-center bg-v2-lily/5 hover:bg-v2-lily/10",style:{maxHeight:68,height:68,...l},onClick:d,translate:"no",children:(0,s.jsxs)("div",{className:"flex h-full w-full items-center space-x-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"bg-gray-200 rounded-full",children:(0,s.jsx)(eB.Z,{info:t,width:24,height:24,enableUnknownTokenWarning:c})})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-v3-light truncate",children:t.symbol}),o?(0,s.jsx)("div",{className:"z-10",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(to,{tokenInfo:t})}):null]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 dark:text-v3-light-35 truncate",children:t.address===v.W4.toBase58()?"Solana":t.name})]}),(0,s.jsxs)("div",{className:"text-xs text-v2-lily/50 text-right h-full flex flex-col justify-evenly",children:[(0,s.jsx)(eV,{mintAddress:t.address,hideZeroBalance:!0}),u?(0,s.jsx)("p",{children:u}):null,(0,s.jsx)(tc,{...e})]})]})})};let tu=()=>{let{getTokenInfo:e}=V(),{accounts:t,nativeAccount:l}=_(),{tokenPriceMap:s}=eo(),n=(0,a.useRef)(new Map),r=(0,a.useRef)(new Map);(0,a.useEffect)(()=>{let i=v.W4.toBase58();if(Object.entries(t).filter(e=>{let[t,l]=e;return l.balanceLamports.gtn(0)}).forEach(t=>{var i;let[a,o]=t,c=e(a);if(!c)return;let d=(0,g.lt)(o.balanceLamports,c.decimals);a===v.W4.toBase58()&&l&&(d+=(0,g.lt)(l.balanceLamports,c.decimals)),n.current.set(a,d);let u=null===(i=s[a])||void 0===i?void 0:i.usd;if(u){let e=new p.Z(d).mul(u);e.greaterThan(0)&&r.current.set(a,e)}},new Map),l&&!n.current.has(i)){var a;let e=(0,g.lt)(l.balanceLamports,9);n.current.set(v.W4.toBase58(),e);let t=null===(a=s[v.W4.toBase58()])||void 0===a?void 0:a.usd;if(t){let l=new p.Z(e).mul(t);l.greaterThan(0)&&r.current.set(v.W4.toBase58(),l)}}},[e,l,s,t]);let i=(0,a.useCallback)(async e=>{let t=[...e],l=t.sort((e,t)=>{var l,s,i,a;let o=r.current.get(e.address),c=r.current.get(t.address);if(o)return c?c.cmp(o):-1;if(c&&!o)return 1;let d=n.current.get(e.address),u=n.current.get(t.address);if(d)return u?new p.Z(u).cmp(d):-1;let m=0,x=0,h=e.daily_volume||0,f=t.daily_volume||0;return h>f&&(m+=1),f>h&&(x+=1),((null===(l=e.tags)||void 0===l?void 0:l.includes("unknown"))||(null===(s=e.tags)||void 0===s?void 0:s.length)===0)&&(m-=2),((null===(i=t.tags)||void 0===i?void 0:i.includes("unknown"))||(null===(a=t.tags)||void 0===a?void 0:a.length)===0)&&(x-=2),x-m});return l},[]),o=(0,a.useCallback)(e=>e.filter(e=>!(0,O.tr)(e)),[]);return{sortTokenListByBalance:i,filterStrictToken:o,mintToUsdValue:r.current}},tm=(0,a.memo)(e=>{let{data:t,index:l,style:n}=e,r=t.searchResult[l];return(0,s.jsx)(td,{item:r,style:n,onSubmit:t.onSubmit,usdValue:t.mintToUsdValue.get(r.address)},r.address)},e8.wy),tx=(e,t)=>{let l=e.symbol.toLowerCase().indexOf(t)>=0,s=l?t.length/e.symbol.length:0,n=(0,O.tr)(e),r="".concat(e.symbol," ").concat(e.name).toLowerCase();return{token:e,matchingIdx:r.indexOf(t),matchingSymbolPercent:s,isUnknown:n}},tp=async(e,t)=>{let l=t.toLowerCase(),s=e.reduce((e,t)=>{let s=tx(t,l);return s.matchingIdx>=0&&e.push(s),e},[]);return s.sort((e,t)=>{let l=e.matchingIdx-t.matchingIdx,s=t.matchingSymbolPercent>e.matchingSymbolPercent?1:t.matchingSymbolPercent==e.matchingSymbolPercent&&e.isUnknown&&!t.isUnknown?0:-1;return l>=0?s:l}).map(e=>e.token)},th=e=>{let{onSubmit:t,tokenInfos:l,onClose:n}=e,{tokenMap:r,unknownTokenMap:o,addOnchainTokenInfo:c}=V(),{getUSDValue:d}=(0,a.useContext)(er),{connection:u}=(0,i.R)(),{setUiState:m,results:p,error:h,status:f}=(0,e4.b)({catchError:!0}),{refine:v,clear:g,isSearchStalled:j}=(0,e9.l)(),w=(0,a.useCallback)(ts()(e=>{e.length>2?v(e):g()},200),[]),b=(0,a.useRef)(""),[y,N]=(0,a.useState)(""),[C,M]=(0,a.useState)(!1),k=(0,a.useRef)(!1),A=(0,a.useCallback)(e=>{D([]),M(!0),N(e.target.value);let t=e.target.value;b.current=t,w(t),b.current.length>=32&&b.current.length<=48&&(k.current=!1)},[w]),S=(0,a.useMemo)(()=>[...r.values(),...o.values()],[r,o]),I=(0,a.useMemo)(()=>{let e=[...r.values(),...o.values()];return e},[]),[E,D]=(0,a.useState)(l),{sortTokenListByBalance:T,filterStrictToken:L,mintToUsdValue:P}=tu();(0,a.useEffect)(()=>{(async()=>{if(!b.current){D(await T(I)),M(!1);return}let e=new Map,t=(()=>{try{return new x.PublicKey(b.current),!0}catch(e){return!1}})(),l=r.get(b.current);if(l){D([l]),M(!1);return}if(b.current){let t=await tp(S,b.current);t.forEach(t=>e.set(t.address,t))}if(b.current===p.query&&b.current.length>2&&p&&!h){let t=p.hits;t.forEach(t=>e.set(t.address,t)),t.forEach(e=>{r.has(e.address)||o.has(e.address)||o.set(e.address,e)})}if(t){let t=e.get(b.current);t&&D([t])}else{let t=Array.from(e.values()).filter(e=>!(0,O.lB)(e));D(await T(t))}let s=!!(t&&p.hits.find(e=>e.address===b.current));if(t&&!1===s){let e=await tr(u,[b.current]),t=e.get(b.current);t&&(D(e=>{let l=new Map;return l.set(t.address,t),e.forEach(e=>l.set(e.address,e)),Array.from(l.values())}),c(t)),k.current=!0}M(!1)})()},[p,b,T,L,h,S,r,d,o,y,u,c,I]);let z=(0,a.createRef)(),R=(0,a.createRef)();return(0,a.useEffect)(()=>{var e;return null===(e=R.current)||void 0===e?void 0:e.focus()},[R]),(0,s.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2 bg-v3-dark",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsx)("div",{className:"text-v3-light fill-current w-6 h-6 cursor-pointer",onClick:n,children:(0,s.jsx)(te.Z,{width:24,height:24})}),(0,s.jsx)("div",{className:"text-v3-light",children:"Select Token"}),(0,s.jsx)("div",{className:" w-6 h-6"})]}),(0,s.jsxs)("div",{className:"flex px-5 mt-4 w-[98%] bg-v2-lily/10",style:{height:56,maxHeight:56},children:[(0,s.jsx)(tt,{}),(0,s.jsx)("input",{autoComplete:"off",className:"w-full ml-4 truncate bg-transparent text-v3-light/50 placeholder:text-v3-light/20",placeholder:"Search",onChange:e=>A(e),ref:R})]}),(0,s.jsxs)("div",{className:"mt-2",style:{flexGrow:1},children:[E.length>0&&(0,s.jsx)(e6.Z,{children:e=>{let{height:l,width:n}=e;return(0,s.jsx)(e8.t7,{ref:z,height:l,itemCount:E.length,itemSize:72,width:n-2,itemData:{searchResult:E,onSubmit:t,mintToUsdValue:P},className:ej()("overflow-y-scroll mr-1 min-h-[12rem] px-5 webkit-scrollbar"),children:tm})}}),0===E.length?(0,s.jsx)("div",{className:"mt-4 mb-4 text-center text-v3-light/50",children:(0,s.jsx)("span",{children:"No tokens found"})}):(0,s.jsx)(s.Fragment,{})]})]})};var tf=e=>{let{typesenseInstantsearchAdapter:t}=V();return(0,s.jsx)(e7.p,{indexName:"tokens",searchClient:t.searchClient,future:{preserveSharedStateOnUnmount:!0},children:(0,s.jsx)(th,{...e})})},tv=e=>{let{tokensInfo:t,onClickAccept:l,onClickReject:n}=e,{getTokenExplorer:r}=(0,ta.oP)();return(0,s.jsxs)("div",{className:"p-6 bg-v3-dark text-v3-light max-h-[80vh] overflow-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("div",{}),(0,s.jsx)("div",{className:"flex space-x-6 w-full justify-center",children:t.map(e=>(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(eB.Z,{info:e,width:52,height:52}),(0,s.jsx)("div",{className:"mt-2 font-semibold",children:e.symbol}),(0,s.jsxs)("a",{href:r(e.address,"mainnet-beta"),target:"_blank",rel:"nofollow noreferrer",className:"mt-1 flex justify-center items-center rounded-lg py-1 px-2 bg-black-10 bg-black/30 cursor-pointer text-v3-light/40 fill-current",children:[(0,s.jsx)("span",{className:"mr-2 text-xxs",children:(0,g.Xn)(e.address)}),(0,s.jsx)(ek.Z,{})]})]},e.address))}),(0,s.jsx)("div",{className:"mt-2 fill-current text-v3-light-35 cursor-pointer",onClick:n,children:(0,s.jsx)(ed.Z,{width:16,height:16})})]}),(0,s.jsxs)("div",{className:"mt-6 text-sm text-v3-light ",children:[(0,s.jsx)("div",{children:t.length>1?"These tokens are not on the strict list, make sure that the mint addresses are correct before confirming.":"This token is not on the strict list, make sure the mint address is correct before confirming"}),(0,s.jsxs)("a",{href:"https://docs.jup.ag/notes/getting-your-token-on-jupiter",target:"_blank",rel:"noreferrer",className:"mt-4 flex justify-center items-center text-v3-light/40",children:[(0,s.jsx)("span",{children:"Learn More"}),(0,s.jsx)("div",{className:"ml-1 flex items-center fill-current",children:(0,s.jsx)(ek.Z,{})})]})]}),(0,s.jsx)("div",{className:"w-full space-y-3 lg:space-y-0 lg:space-x-3 mt-7",children:(0,s.jsx)("button",{type:"button",className:"bg-black text-v3-light rounded-lg w-full py-2.5 px-6 font-semibold text-sm",onClick:l,children:(0,s.jsx)("span",{children:"Confirm Selection"})})})]})},tg=e=>{let{setIsWalletModalOpen:t,isWalletModalOpen:l}=e,{accounts:n,nativeAccount:r}=_(),{tokenMap:i}=V(),{form:o,setForm:d,setErrors:u,quoteResponseMeta:m,formProps:{initialOutputMint:x,fixedOutputMint:p},jupiter:{loading:h}}=ee(),{setScreen:f}=c(),g=(0,a.useMemo)(()=>{var e;return o.fromMint===v.W4.toString()?(null==r?void 0:r.balance)||0:o.fromMint&&(null===(e=n[o.fromMint])||void 0===e?void 0:e.balance)||0},[n,o.fromMint,null==r?void 0:r.balance]),[j,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!o.fromValue||!o.fromMint||!o.toMint||!o.toValue||!m||h){u({}),w(!0);return}if(Number(o.fromValue)>g){u({fromValue:{title:"Insufficient balance",message:""}}),w(!0);return}u({}),w(!1)},[o,g,m,h,u]);let[b,y]=(0,a.useState)(null),[N,C]=(0,a.useState)(null),M=(0,a.useCallback)(function(e){var t;let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=(null===(t=e.tags)||void 0===t?void 0:t.length)===0;if(s&&!1===l){C(e);return}"fromMint"===b?d(t=>({...t,fromMint:e.address,fromValue:"",...t.toMint===e.address?{toMint:t.fromMint}:void 0})):d(t=>({...t,toMint:e.address,toValue:"",...t.fromMint===e.address?{fromMint:t.toMint}:void 0})),y(null)},[b,d]),k=(0,a.useMemo)(()=>{let e=[...i.values()];return p&&(e=e.filter(e=>e.address!==x)),e},[i,p,x]),A=(0,a.useCallback)(()=>{f("Confirmation")},[f]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("form",{onSubmit:A,className:ej()({hidden:!!b}),children:(0,s.jsx)(e5,{onSubmit:A,isDisabled:j,setSelectPairSelector:y,setIsWalletModalOpen:t})}),null!==b?(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full w-full bg-v3-modal rounded-lg overflow-hidden",children:(0,s.jsx)(tf,{onSubmit:M,tokenInfos:k,onClose:()=>y(null)})}):null,N?(0,s.jsx)("div",{className:"absolute top-0 h-full w-full flex justify-center items-center bg-black/50 rounded-lg overflow-hidden",children:(0,s.jsx)(tv,{tokensInfo:[N],onClickAccept:()=>{M(N,!0),C(null)},onClickReject:()=>C(null)})}):null]})},tj=l(88401),tw=()=>{let{fromTokenInfo:e,toTokenInfo:t,onSubmit:l,onRequestIx:n,quoteResponseMeta:r,jupiter:{loading:i,refresh:o}}=ee(),[d]=e3(),{setScreen:u}=c(),m=()=>{o(),u("Initial")},x=(0,a.useCallback)(async()=>{if(u("Swapping"),window.Jupiter.onRequestIxCallback){let e=await n();e?window.Jupiter.onRequestIxCallback(e):u("Error")}else l()},[n,l,u]);return(0,s.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsx)("div",{className:"text-v3-light fill-current w-6 h-6 cursor-pointer",onClick:m,children:(0,s.jsx)(te.Z,{width:24,height:24})}),(0,s.jsx)("div",{className:"text-v3-light",children:"Review Order"}),(0,s.jsx)("div",{className:" w-6 h-6"})]}),(0,s.jsx)("div",{children:r&&e&&t?(0,s.jsx)(e0,{quoteResponse:r.quoteResponse,fromTokenInfo:e,toTokenInfo:t,loading:i,showFullDetails:!0,containerClassName:"bg-[#25252D] border-none"}):null}),d?(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4 disabled:opacity-50 !p-0",type:"button",onClick:m,children:(0,s.jsx)("span",{className:"text-sm",children:"Refresh"})}):(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4 disabled:opacity-50",type:"button",onClick:x,children:(0,s.jsx)(tj.Z,{children:"Confirm"})})]})},tb=e=>{let{className:t,baseColor:l="currentColor",spinnerColor:n="currentColor",width:r=16,height:i=16}=e;return(0,s.jsx)("div",{className:"rounded-full flex items-center justify-center ".concat(t),style:{width:r,height:i},children:(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-black dark:text-v3-light",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:l,strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:n,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},ty=e=>{let{width:t="56",height:l="56"}=e;return(0,s.jsx)("svg",{width:t,height:l,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M28 0C12.5564 0 0 12.5564 0 28C0 43.4436 12.5564 56 28 56C43.4436 56 56 43.4436 56 28C56 12.5564 43.4436 0 28 0ZM42.1474 21.7504L27.1759 38.7874C26.6463 39.3768 25.9371 39.7315 25.1727 39.7315H25.0552C24.3483 39.7315 23.6414 39.4367 23.1095 38.9071L13.9703 29.7084C12.9088 28.6469 12.9088 26.8785 13.9703 25.8169C15.0318 24.7554 16.8002 24.7554 17.8617 25.8169L24.9956 32.9508L38.0218 18.0966C39.0234 16.9177 40.7918 16.8578 41.9132 17.8617C43.0922 18.8634 43.2089 20.5715 42.1474 21.7504Z",fill:"#23C1AA"})})};let tN=()=>(0,s.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_7547_116874)",children:[(0,s.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"#F04A44"}),(0,s.jsx)("path",{d:"M19.8444 25.4321C18.6773 25.4332 17.7205 24.5092 17.6793 23.3431L17.1718 9.04107C17.1507 8.45326 17.3706 7.88344 17.7786 7.46056C18.1867 7.03768 18.7492 6.7998 19.337 6.7998H20.3519C20.9397 6.7998 21.5021 7.03768 21.9102 7.46056C22.3183 7.88344 22.5382 8.45329 22.5171 9.04107L22.0096 23.3431C21.9684 24.5092 21.0116 25.4332 19.8444 25.4321Z",fill:"white"}),(0,s.jsx)("path",{d:"M22.8893 30.4989C22.8893 32.1809 21.5266 33.5436 19.8446 33.5436C18.1626 33.5436 16.7998 32.1809 16.7998 30.4989C16.7998 28.8169 18.1626 27.4541 19.8446 27.4541C21.5266 27.4541 22.8893 28.8169 22.8893 30.4989Z",fill:"white"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_7547_116874",children:(0,s.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]});var tC=()=>{let{displayMode:e,lastSwapResult:t,reset:l,scriptDomain:n,swapping:{txStatus:r},fromTokenInfo:i,toTokenInfo:o,jupiter:{refresh:d}}=ee(),{screen:u,setScreen:m}=c(),[x,p]=(0,a.useState)(""),h=()=>{l(),p(""),m("Initial"),d()},f=()=>{l({resetValues:!1}),p(""),m("Initial"),d()};(0,a.useEffect)(()=>{var e,l,s,n;if("Swapping"===u){if((null==t?void 0:t.swapResult)&&"error"in(null==t?void 0:t.swapResult)){p((null==t?void 0:null===(l=t.swapResult)||void 0===l?void 0:null===(e=l.error)||void 0===e?void 0:e.message)||""),window.Jupiter.onSwapError&&window.Jupiter.onSwapError({error:null==t?void 0:null===(s=t.swapResult)||void 0===s?void 0:s.error,quoteResponseMeta:null==t?void 0:t.quoteResponseMeta});return}if((null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)){window.Jupiter.onSuccess&&window.Jupiter.onSuccess({txid:null==t?void 0:null===(n=t.swapResult)||void 0===n?void 0:n.txid,swapResult:null==t?void 0:t.swapResult,quoteResponseMeta:null==t?void 0:t.quoteResponseMeta});return}}},[t,u]);let v=()=>{e&&"modal"!==e||window.Jupiter.close(),l(),m("Initial")},j=(0,a.useMemo)(()=>{if((null==r?void 0:r.status)==="timeout")return"timeout";let e=(null==r?void 0:r.status)==="fail";if(e||x)return"error";let t=(null==r?void 0:r.status)==="success";return t?"success":"loading"},[x,null==r?void 0:r.status]),{explorer:w,getExplorer:b}=(0,ta.oP)();return(0,s.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2",children:[x||"error"===j?(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,s.jsx)(tN,{}),(0,s.jsx)("p",{className:"text-v3-light mt-2",children:"Swap Failed"}),(0,s.jsx)("p",{className:"text-v3-light/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),x?(0,s.jsx)("p",{className:"text-v3-light/50 text-xs mt-2",children:x}):"",(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-6 disabled:opacity-50",type:"button",onClick:f,children:(0,s.jsx)(tj.Z,{children:"Retry"})})]})}):null,x||"timeout"!==j?null:(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,s.jsx)(tN,{}),(0,s.jsx)("p",{className:"text-v3-light mt-2",children:"Transaction timed-out"}),(0,s.jsx)("p",{className:"text-v3-light/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),x?(0,s.jsx)("p",{className:"text-v3-light/50 text-xs mt-2",children:x}):"",(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-6 disabled:opacity-50",type:"button",onClick:f,children:(0,s.jsx)(tj.Z,{children:"Retry"})})]})}),x||"loading"!==j?null:(0,s.jsx)(()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex w-full justify-center",children:(0,s.jsx)("div",{className:"text-v3-light",children:"loading"===j?"Performing Swap":""})}),(0,s.jsx)("div",{className:"flex w-full justify-center items-center mt-9",children:(0,s.jsx)("div",{className:"h-16 w-16 animate-hue duration-100",children:(0,s.jsx)(ex.Z,{width:64,height:64})})}),void 0===r?(0,s.jsx)("span",{className:"text-v3-light text-center mt-8 text-sm px-4",children:"Awaiting approval from your wallet..."}):null,(0,s.jsx)("div",{className:"flex flex-col w-full justify-center items-center px-5 mt-7",children:"loading"===j&&(0,s.jsxs)("div",{className:"flex items-center w-full rounded-xl p-4 bg-[#25252D] mb-2",children:[(0,s.jsx)(tb,{spinnerColor:"white"}),(0,s.jsx)("div",{className:"ml-4 text-v3-light text-sm",children:(0,s.jsx)("span",{children:"Swapping"})})]})})]}),{}),x||"success"!==j?null:(0,s.jsx)(()=>{let{inputAmount:l,outputAmount:n,explorerLink:r}=(0,a.useMemo)(()=>({inputAmount:(null==t?void 0:t.swapResult)&&"inputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.inputAmount:0,outputAmount:(null==t?void 0:t.swapResult)&&"outputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.outputAmount:0,explorerLink:(null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)?b(null==t?void 0:t.swapResult.txid):""}),[]);return i&&o&&(null==t?void 0:t.quoteResponseMeta)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-center mt-12",children:[(0,s.jsx)("div",{className:"absolute top-[52px] bg-[#23C1AA] bg-opacity-[15%] rounded-full w-20 h-20 flex justify-center items-center animate-pulse"}),(0,s.jsx)("div",{className:"h-[56px] w-[56px] bg-white rounded-full",children:(0,s.jsx)(ty,{})})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)("p",{className:"mt-5 text-v3-light text-xl font-semibold",children:"Swap successful"}),(0,s.jsxs)("div",{className:"mt-4 bg-[#25252D] rounded-xl overflow-y-auto w-full webkit-scrollbar py-4 max-h-[260px]",children:[(0,s.jsxs)("div",{className:"mt-2 flex flex-col items-center justify-center text-center px-4",children:[(0,s.jsxs)("p",{className:"text-xs font-semibold text-v3-light/75",children:["Swapped ",(0,g.lt)(l,i.decimals)," ",i.symbol," to"]}),(0,s.jsxs)("p",{className:"text-2xl font-semibold text-v3-light/75",children:[(0,g.lt)(n,o.decimals)," ",o.symbol]})]}),(0,s.jsx)(e0,{quoteResponse:null==t?void 0:t.quoteResponseMeta.quoteResponse,fromTokenInfo:i,toTokenInfo:o,loading:!1,showFullDetails:!0,containerClassName:"bg-[#25252D] border-none mt-0"})]})]}),r?(0,s.jsxs)("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-v3-light/50 mt-2 ml-2 text-xs hover:underline",children:["View on ",w]}):null,(0,s.jsxs)("div",{className:"mt-auto px-5 pb-4 flex space-x-2",children:[(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4",type:"button",onClick:h,children:(0,s.jsx)(tj.Z,{children:(0,s.jsx)("span",{className:"text-sm",children:"Swap More"})})}),"integrated"!==e?(0,s.jsx)(eS.Z,{size:"lg",className:"w-full mt-4",type:"button",onClick:v,children:(0,s.jsx)("span",{className:"text-sm",children:"Close"})}):null]})]}):null},{})]})};let tM=()=>{let{screen:e}=c(),[t,l]=(0,a.useState)(!1),{message:n}=eR(),[r,i]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:"relative h-full border-2 border-v3-primary",children:["Initial"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eP,{setIsWalletModalOpen:l}),(0,s.jsx)(tg,{isWalletModalOpen:t,setIsWalletModalOpen:l})]}):null,"Confirmation"===e?(0,s.jsx)(tw,{}):null,"Swapping"===e?(0,s.jsx)(tC,{}):null,!r&&n?(0,s.jsx)("div",{className:"absolute bottom-1 px-3 py-2 w-full",children:(0,s.jsxs)("div",{className:" bg-[#FBA43A] flex items-center justify-between px-3 py-2",children:[(0,s.jsx)("div",{className:"pr-2",children:n}),(0,s.jsx)("div",{className:"cursor-pointer",onClick:()=>i(!0),children:(0,s.jsx)(ed.Z,{width:12,height:12})})]})}):null]})};var tk=e=>{var t;let{displayMode:l,platformFeeAndAccounts:n,formProps:o,maxAccounts:c}=e,{connection:d}=(0,i.R)(),{wallet:u}=H(),m=(0,a.useMemo)(()=>null==u?void 0:u.adapter.publicKey,[null==u?void 0:u.adapter.publicKey]),[p,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e,t;if(null==u?void 0:u.adapter){if(null==u?void 0:null===(t=u.adapter)||void 0===t?void 0:null===(e=t.supportedTransactionVersions)||void 0===e?void 0:e.has(0)){h(!1);return}h(!0)}},[null==u?void 0:u.adapter]);let f=(0,a.useMemo)(()=>{if((null==n?void 0:n.referralAccount)&&(null==n?void 0:n.feeBps))return{referralAccount:new x.PublicKey(n.referralAccount),feeBps:null==n?void 0:n.feeBps,feeAccounts:(null==n?void 0:n.feeAccounts)||new Map}},[n]);return(0,s.jsx)(X,{children:(0,s.jsx)(r.d2,{connection:d,routeCacheDuration:ec.t9,wrapUnwrapSOL:!0,userPublicKey:m||void 0,platformFeeAndAccounts:f,asLegacyTransaction:p,children:(0,s.jsx)(A,{children:(0,s.jsx)(el,{displayMode:l,formProps:o,scriptDomain:e.scriptDomain,asLegacyTransaction:p,setAsLegacyTransaction:h,maxAccounts:c,useUserSlippage:null===(t=e.useUserSlippage)||void 0===t||t,slippagePresets:e.slippagePresets,children:(0,s.jsx)(ea,{children:(0,s.jsx)(tM,{})})})})})})};let tA=(0,a.createContext)({}),tS=e=>{let{children:t}=e,[l,n]=(0,m._)("network","mainnet-beta");return(0,s.jsx)(tA.Provider,{value:{networkConfiguration:l,setNetworkConfiguration:n},children:t})};var tI=l(71099);let tE=[{id:"Phantom",name:"Phantom",url:"https://phantom.app",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg=="},{id:"Backpack",name:"Backpack",url:"https://backpack.app",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAbvSURBVHgB7Z1dUtxGEMf/LZH3fU0V4PUJQg4QVj5BnBOAT2BzAsMJAicwPoHJCRDrAxifgLVxVV73ObDqdEtsjKn4C8+0NDv9e7AxprRC85uvnp4RYYW5qKpxCVTcYKsgfiDfGjMwIsZIvh7d/lkmzAiYy5fzhultyZhdlagf1vU5VhjCiiGFXq01zYSJdqWgx/hB5AHN5I/6iuilyFBjxVgZAdqCZ34ORoVIqAzSOhxsvq6PsSIkL4A281LwL2IW/F1UhLKgRz/X9QyJUyBhuuae31gWviLjiPF1wxeX29vPkTjJtgAftrd3GHSMnmHw4eZ0uodESVKAoRT+kpQlSE6Ats/XZv/ONK5vZHC49+B1fYjESG4MUDKfYmCFr0ic4fmHqtpCYiQlgA66QsztIzFi5j+RGMl0AXebfgn0aOTuvGG8owIarZsXOj3ronlRuEYnn84CJLo4Lgi/QL/H/LHmy/RwI6GA0RoS4acFHi8kGieFXS/QhmijFfQXmH3uPy5lSkoLbIkYlfyzhuM4juM4juM4juMMj6TzATQ4JH9tlRqFk8BM2aV9RWHB9K5kzK/KLui0KqliSQmgBa4BIS54cpMD0OeawFye3jk19JdKkWq62OAFkEIfrTXNUxBV1okf38Ot3MGjlFqHwQrQZvQ22Cfw7xjg6t8XkZaBGzpKIXdwcAJojZeCP5SC30HipJBEOigBZLn3qdzSPlKr8V9hyEmkgxCgj8zefuD9jen0AAOidwE0i6ZhfjXgRI+gDK016DUjqE3ubPhNLoWvaDLJouHToaSP9SbA0DJ7LekyiviNPgP0TC9dQM6FfxeZ7eyuT6cv0RPmAmjTx11uXx/MiegEDd425cfcwWV+H4O3+uiO+pTAVIA2uMN8av6QiWr5TQ++JVlTc/tEiF3jOMScZGC43kME0VSA95PJhWXhM+Gt1Phn98nStZa1r9mB2SDQPqefjhayfnDfFG2J5882z84eynVM5u3thlONhRhj0gLc5PRfwAw62JjW+wjE5Xa1L0VkshO4kXt/EPDev4ZJCyBRvlcwggjHG4EfYHc9OoIBBWy3mEUX4H1V7Ur7ZvILaT8qy7FRduleF9jXc4RggOUWs/gtANs0nYquvMXaMaTXlQHlE1ggayLvf5OKY0DUMYDWfmpsBjZa+9enOmiLy+VkcmqxaNW2ZgX9GnsLXNQWoGj4KYzQ2g8LyG5WUDR4hshEE6CN+AFmg5lFiRMYcI0uKRQGyIAwegWKJkBjYO8tzq12C7efQ7CK2I00MomIxOsCiCcwQhaW3sEQ6W7sPi/yIDqKAHp8m2nIF7COoc9ghQw4NU8SkYgiQCmLKXCCUSziPc84XYBh83/DSiWR3qUo2tT4ONdGYDTub73cSzD/PNt0rojdQHAByoXxw0E7XfoFhsjnRduD+DnWIkkXXACJl1cwRoMmf3cbRaOjLRzDXnKZVj9GBIILUJBtbVzyj9HAU19AgR6I9VzDtwCgMXpAo2Yxp0v/Ybi49ennJtIFEPMY/TCKHTvv+aTSUQzBgwrQ92YHbQVi3UN3GAVZhrf/jzECE1SAq/7n4yOJ074KPSBcJoii598vxgwrqAByg70HZJZbr0JJ0G5XZz5Z1e1rYccA5TAicqEk0O5ECl/3LvYys7mLTLHHCEzS7wz6Esv3+nyYTF58rwha63XAl8PG1aCnhesWq6EdOcKM3WvmXRHh+Gvv/tNVTJlJPC4a3RVEK72+sCSZ4+J/FBVhTUS43J7gJqFjrnl33A3sxtCa3nAWhX6bbAT4hJugCsNZ2TGA8224AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOWEFYJvz85xwBBWgKM1P68oKKsI/36ACdC9nsDlWPTsIJ5t1Hfw01OBjgI1p/YwLegIibw0CwESz9gUYZ2d/wHEcx3Ecx3Ecx3Ecx3HuS5QjfdrXxTHv3JzEkd2xKwHR9xPNuKGjzdf1MSIQXAA9XUsuuw8nKPpK3PWzs+AvrgwqgP1LojOjoEf3fRv6Zy+JgBSLOGfaOx1NE/6o+rCrgeT9fWp4SljmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnjAmSOC5A5LkDmuACZ4wJkjguQOS5A5rgAmeMCZI4LkDkuQOa4AJnj5wRmTlABqHQBohKhggUVYAEEP8fO+UiMgziDCvCwrnU3aw0nOATMQu8LVIIPAq+JdAerdwWBaQ/fjEBwAaQVmMnN7sEJCB3EqP3tlRGJy6qqmPkFMcZw7sucmfZiHQ6hRBNgSXdaCHbA7KeFfBvz9pxlxtl1gcN2XBWRfwHK959XFRG6AgAAAABJRU5ErkJggg=="},{id:"OKX Wallet",name:"OKX Wallet",url:"https://www.okx.com/web3",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII="},{id:"Glow",name:"Glow",url:"https://glow.app",icon:"https://glow.app/landing/app-icons/purple.png"}],tD=()=>{},tT=e=>{let{autoConnect:t,endpoint:l,connectionObj:n,children:r}=e,{networkConfiguration:o}=(0,a.useContext)(tA);(0,a.useMemo)(()=>null!=l?l:(0,x.clusterApiUrl)(o),[l,o]);let c=window.Jupiter.enableWalletPassthrough,d=(0,a.useMemo)(()=>c?[]:[new tI.e],[c]),[u,m]=(0,a.useState)({show:!1,message:""}),p=(0,a.useMemo)(()=>c?a.Fragment:e=>{let{children:l}=e;return(0,s.jsx)(ef.M4,{wallets:d,config:{env:"mainnet-beta",autoConnect:void 0===t||t,metadata:{name:"Jupiter Terminal",url:"https://terminal.jup.ag",description:"An open-sourced, lite version of Jupiter that provides end-to-end swap flow by linking it in your HTML. Check out the visual demo for the various integration modes below.          ",iconUrls:[]},hardcodedWallets:tE,walletPrecedence:["Phantom","Backpack","OKX Wallet","Glow"],notificationCallback:{onConnect:tD,onConnecting:tD,onDisconnect:tD,onNotInstalled:e=>{let{walletName:t,metadata:l}=e;m({show:!0,message:(0,s.jsxs)("p",{className:"space-y-1",children:[t," is not installed.",(0,s.jsxs)("p",{className:"space-x-1",children:[(0,s.jsxs)("a",{className:"underline font-semibold",target:"_blank",rel:"noopener noreferrer",href:l.url,children:["Visit ",t," website"]}),(0,s.jsx)("span",{children:"to install it."})]})]})}),setTimeout(()=>{m({show:!1,message:""})},5e3)}},theme:"jupiter"},children:l})},[t,c,d]),h=(0,a.useMemo)(()=>{if(l)return new x.Connection(l);if(n)return n;throw Error("No connection object or endpoint provided")},[n,l]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h.Provider,{value:{connection:h},children:(0,s.jsx)(p,{children:r})}),u.show&&u.message?(0,s.jsx)("div",{className:"absolute bottom-2 w-full px-2",children:(0,s.jsx)("div",{className:"w-full h-full bg-white/10 rounded-lg p-2 text-warning text-xs",children:u.message})}):null]})},tL=e=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(tS,{children:(0,s.jsx)(tT,{...e,children:(0,s.jsx)(ta._r,{defaultExplorer:e.defaultExplorer,children:e.children})})})});var tO=l(27655),tP=l(4941);let tz=()=>{let e=(0,a.useMemo)(()=>new tO.S,[]),[t]=(0,n.KO)(B.appProps);return t?(0,s.jsx)(tP.aH,{client:e,children:(0,s.jsx)(tL,{...t,children:(0,s.jsx)(W,{children:(0,s.jsx)(R,{...t,children:(0,s.jsx)(d,{children:(0,s.jsx)(tk,{...t})})})})})}):null},tR=()=>(0,s.jsx)(n.zt,{store:window.Jupiter.store,children:(0,s.jsx)(tz,{})})},90779:function(e,t,l){"use strict";l.r(t),l.d(t,{appProps:function(){return C},close:function(){return S},init:function(){return M},resume:function(){return A},syncProps:function(){return I}});var s,n=l(11527),r=l(44478),i=l(93696),a=l(50959),o=l(84875),c=l.n(o);l(99286);var d=l(92754),u=l(33571);let m="jupiter-terminal",x=l(4147),p="main-".concat(x.version),h=(()=>{var e;let t=null===(e=document.currentScript)||void 0===e?void 0:e.src;return t?new URL(t).origin:""})()||"https://terminal.jup.ag";async function f(e,t,l){return new Promise((s,n)=>{let r=document.getElementById(e);if(r)s({});else{let r="text/javascript"===l?document.createElement("script"):document.createElement("link");r.id=e,r.onload=s,r.onerror=n,r instanceof HTMLScriptElement?(r.type="text/javascript",r.src=t):r instanceof HTMLLinkElement&&(r.rel="stylesheet",r.href=t),document.head.append(r)}})}async function v(){try{await Promise.all([f("jupiter-load-script-app","".concat(h,"/").concat(p,"-app.js"),"text/javascript"),f("jupiter-load-styles-tailwind","".concat(h,"/").concat(p,"-Tailwind.css"),"stylesheet")]),f("jupiter-load-styles-jupiter","".concat(h,"/").concat(p,"-Jupiter.css"),"stylesheet")}catch(e){throw console.error("Error loading Jupiter Terminal: ".concat(e)),Error("Error loading Jupiter Terminal: ".concat(e))}}let g={zIndex:50},j=e=>{let[t,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e;return v(),t||(e=setInterval(()=>{var e;let t=null===(e=window.JupiterRenderer)||void 0===e?void 0:e.RenderJupiter;t&&l(!0)},50)),()=>{clearInterval(e)}},[t]);let s=(0,a.useMemo)(()=>t?window.JupiterRenderer.RenderJupiter:w,[t]);return(0,n.jsx)(s,{...e})},w=()=>(0,n.jsx)(n.Fragment,{}),b=e=>{let t=e.displayMode,l=e.containerStyles,s=e.containerClassName,r=(0,a.useMemo)(()=>t&&"modal"!==t?"integrated"===t||"widget"===t?"flex items-center justify-center w-full h-full":void 0:"fixed top-0 w-screen h-screen flex items-center justify-center bg-black/50",[t]),i=(0,a.useMemo)(()=>t&&"modal"!==t?"integrated"===t||"widget"===t?"flex flex-col h-full w-full overflow-auto text-black relative webkit-scrollbar":void 0:"flex flex-col h-screen w-screen max-h-[90vh] md:max-h-[600px] max-w-[412px] overflow-auto text-black relative bg-v3-dark webkit-scrollbar ".concat(s||""),[s,t]);return(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("link",{href:"./styles/globals.css",rel:"stylesheet"}),(0,n.jsx)("div",{style:{...g,...l},className:i,children:(0,n.jsx)(j,{...e})}),t&&"modal"!==t?null:(0,n.jsx)("div",{onClick:()=>{window.Jupiter&&window.Jupiter.close()},className:"absolute w-screen h-screen top-0 left-0"})]})},y=e=>{var t,l,s,r;let[i,o]=(0,a.useState)(!1),m=(0,a.useMemo)(()=>{var t,l,s,n,r,i;let a;let o=(null===(t=e.widgetStyle)||void 0===t?void 0:t.size)||"default";return(null===(l=e.widgetStyle)||void 0===l?void 0:l.position)&&(null===(s=e.widgetStyle)||void 0===s?void 0:s.position)!=="bottom-right"||(a={containerClassName:"bottom-6 right-6",contentClassName:"default"===o?"bottom-[60px] -right-3":"bottom-[44px] -right-4"}),(null===(n=e.widgetStyle)||void 0===n?void 0:n.position)==="bottom-left"&&(a={containerClassName:"bottom-6 left-6",contentClassName:"default"===o?"bottom-[60px] -left-3":"bottom-[44px] -left-4"}),(null===(r=e.widgetStyle)||void 0===r?void 0:r.position)==="top-left"&&(a={containerClassName:"top-6 left-6",contentClassName:"default"===o?"top-[60px] -left-3":"top-[44px] -left-4"}),(null===(i=e.widgetStyle)||void 0===i?void 0:i.position)==="top-right"&&(a={containerClassName:"top-6 right-6",contentClassName:"default"===o?"top-[60px] -right-3":"top-[44px] -right-4"}),{...a,widgetContainerClassName:"default"===o?"h-14 w-14":"h-10 w-10",widgetLogoSize:"default"===o?42:32}},[null===(t=e.widgetStyle)||void 0===t?void 0:t.position,null===(l=e.widgetStyle)||void 0===l?void 0:l.size]);return(0,n.jsxs)("div",{className:"fixed ".concat(m.containerClassName),children:[(0,n.jsx)("div",{className:"".concat(m.widgetContainerClassName," bg-black rounded-full flex items-center justify-center cursor-pointer"),onClick:()=>o(!i),children:i?(0,n.jsx)("div",{className:c()("text-v3-light fill-current pt-1",{"rotate-180":(null===(s=e.widgetStyle)||void 0===s?void 0:s.position)==="top-left"||(null===(r=e.widgetStyle)||void 0===r?void 0:r.position)==="top-right"}),children:(0,n.jsx)(u.Z,{width:.4*m.widgetLogoSize,height:.4*m.widgetLogoSize})}):(0,n.jsx)(d.Z,{width:m.widgetLogoSize,height:m.widgetLogoSize})}),(0,n.jsx)("div",{id:"integrated-terminal",className:"absolute overflow-hidden ".concat(m.contentClassName," flex flex-col w-[90vw] h-[600px] max-w-[412px] max-h-[75vh] bg-v3-dark transition-opacity duration-300 shadow-2xl ").concat(i?"opacity-100":"!h-0 !w-0 opacity-0"),children:(0,n.jsx)(j,{...e})})]})},N=(0,i.MT)(),C=(0,i.cn)(void 0);async function M(e){var t;let l;let{enableWalletPassthrough:s,passthroughWalletContextState:i,onRequestConnectWallet:a,onSwapError:o,onSuccess:c,onFormUpdate:d,onScreenUpdate:u,onRequestIxCallback:x,integratedTargetId:p,...f}=e,v=document.createElement("div"),g=document.getElementById(m);if(window.Jupiter.store=N,N.set(C,{...e,scriptDomain:h}),g&&(window.Jupiter._instance=null,g.remove(),null===(t=window.Jupiter.root)||void 0===t||t.unmount()),v.id=m,v.classList.add("w-full"),v.classList.add("h-full"),"integrated"===f.displayMode){let e=document.getElementById(p);if(!e)throw Error("Jupiter Terminal: document.getElementById cannot find ".concat(p));null==e||e.appendChild(v)}else document.body.appendChild(v);s?(window.Jupiter.enableWalletPassthrough=!0,window.Jupiter.onRequestConnectWallet=a):window.Jupiter.enableWalletPassthrough=!1,l="widget"===f.displayMode?(0,n.jsx)(y,{...e}):(0,n.jsx)(b,{...e});let j=(0,r.createRoot)(v);j.render(l),window.Jupiter.root=j,window.Jupiter._instance=l,window.Jupiter.onSwapError=o,window.Jupiter.onSuccess=c,window.Jupiter.onFormUpdate=d,window.Jupiter.onScreenUpdate=u,window.Jupiter.onRequestIxCallback=x}let k=null===(s=document.currentScript)||void 0===s?void 0:s.attributes;document.onreadystatechange=function(){let e="complete"===document.readyState,t=!!k.getNamedItem("data-preload");e&&t&&setTimeout(()=>{v().catch(e=>{throw console.error("Error pre-loading Jupiter Terminal: ".concat(e)),Error("Error pre-loading Jupiter Terminal: ".concat(e))})},2e3)};let A=()=>{let e=document.getElementById(m);if(e){e.style.display="block";return}},S=()=>{let e=document.getElementById(m);e&&(e.style.display="none")},I=e=>{let t=N.get(C),l={...t,passthroughWalletContextState:e.passthroughWalletContextState||(null==t?void 0:t.passthroughWalletContextState)};N.set(C,l)}},76449:function(){},4147:function(e){"use strict";e.exports=JSON.parse('{"name":"@jup-ag/terminal","version":"3.0.0","private":false,"license":"MIT","scripts":{"dev":"next dev","build":"next build","export":"next export","start":"next start","lint":"next lint","format:fix":"prettier --write src","build-widget":"NODE_ENV=production MODE=widget webpack","analyse":"NODE_ENV=production MODE=widget ANALYSE=true webpack"},"dependencies":{"@jup-ag/math":"4.0.0-beta.21","@jup-ag/react-hook":"6.0.0-beta.9","@jup-ag/wallet-adapter":"0.2.0","@mercurial-finance/optimist":"0.3.2","@project-serum/anchor":"^0.26.0","@solana/spl-token":"0.1.8","@solana/spl-token-registry":"~0.2.4574","@solana/wallet-adapter-wallets":"0.19.22","@solana/web3.js":"1.87.6","@tanstack/react-query":"^4.36.1","bn.js":"5.2.1","bs58":"5.0.0","classnames":"2.3.2","decimal.js":"10.4.3","jazzicon":"^1.5.0","jotai":"^2.8.3","jsbi":"4.3.0","lodash.debounce":"^4.0.8","next":"13.4.19","next-seo":"5.15.0","next-themes":"0.2.1","react":"18.2.0","react-dom":"18.2.0","react-hook-form":"7.42.1","react-instantsearch":"~7.7.0","react-number-format":"5.1.3","react-syntax-highlighter":"^15.5.0","react-use":"^17.5.0","react-virtualized-auto-sizer":"1.0.7","react-window":"1.8.8","typesense":"1.7.2","typesense-instantsearch-adapter":"~2.8.0"},"devDependencies":{"@jup-ag/common":"6.0.0-beta.9","@svgr/webpack":"^6.5.1","@types/bn.js":"^5.1.5","@types/bs58":"^4.0.4","@types/lodash.debounce":"^4.0.9","@types/node":"18.11.5","@types/react":"18.0.23","@types/react-dom":"18.0.7","@types/react-syntax-highlighter":"^15.5.13","@types/react-virtualized-auto-sizer":"~1.0.4","@types/react-window":"~1.8.8","autoprefixer":"10.4.13","css-loader":"^6.11.0","css-minimizer-webpack-plugin":"^4.2.2","cssnano":"^5.1.15","eslint":"8.26.0","eslint-config-next":"13.0.0","eslint-config-prettier":"^8.10.0","mini-css-extract-plugin":"^2.9.0","next-transpile-modules":"10.0.0","node-polyfill-webpack-plugin":"^2.0.1","postcss":"^8.4.38","postcss-loader":"^7.3.4","postcss-preset-env":"^7.8.3","prettier":"^3.3.2","react-twitter-embed":"^4.0.4","sass":"^1.77.6","sass-loader":"^13.3.3","style-loader":"^3.3.4","stylus":"^0.59.0","svg-inline-loader":"^0.8.2","tailwindcss":"3.3.3","ts-loader":"^9.5.1","typescript":"5.2.2","webpack":"^5.92.1","webpack-bundle-analyzer":"^4.10.2","webpack-cli":"^4.10.0"},"pnpm":{"overrides":{"@solana/web3.js":"1.87.6","@solana/buffer-layout":"4.0.0"}}}')}}]);